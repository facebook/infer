<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>CommandLineOption (infer.IBase.CommandLineOption)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">infer</a> &#x00BB; <a href="../index.html">IBase</a> &#x00BB; CommandLineOption</nav><header class="odoc-preamble"><h1>Module <code><span>IBase.CommandLineOption</span></code></h1><p>Definition and parsing of command line arguments</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-warnf"><a href="#val-warnf" class="anchor"></a><code><span><span class="keyword">val</span> warnf : <span><span><span>(<span class="type-var">'a</span>, <span class="xref-unresolved">Stdlib</span>.Format.formatter, unit)</span> <a href="../../IStdlib/IStd/index.html#type-format">IStdlib.IStd.format</a></span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Print to stderr in case of error, fails in strict mode</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-parse_mode"><a href="#type-parse_mode" class="anchor"></a><code><span><span class="keyword">type</span> parse_mode</span><span> = </span></code><ol><li id="type-parse_mode.InferCommand" class="def variant constructor anchored"><a href="#type-parse_mode.InferCommand" class="anchor"></a><code><span>| </span><span><span class="constructor">InferCommand</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>parse arguments as arguments for infer</p><span class="comment-delim">*)</span></div></li><li id="type-parse_mode.Javac" class="def variant constructor anchored"><a href="#type-parse_mode.Javac" class="anchor"></a><code><span>| </span><span><span class="constructor">Javac</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>parse arguments passed to the Java compiler</p><span class="comment-delim">*)</span></div></li><li id="type-parse_mode.NoParse" class="def variant constructor anchored"><a href="#type-parse_mode.NoParse" class="anchor"></a><code><span>| </span><span><span class="constructor">NoParse</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>all arguments are anonymous arguments, no parsing is attempted</p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-compare_parse_mode"><a href="#val-compare_parse_mode" class="anchor"></a><code><span><span class="keyword">val</span> compare_parse_mode : <span><a href="#type-parse_mode">parse_mode</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-parse_mode">parse_mode</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_originator"><a href="#val-is_originator" class="anchor"></a><code><span><span class="keyword">val</span> is_originator : bool</span></code></div><div class="spec-doc"><ul class="at-tags"><li class="deprecated"><span class="at-tag">deprecated</span> Do not use this value, use [Config.is_originator] instead</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-init_work_dir"><a href="#val-init_work_dir" class="anchor"></a><code><span><span class="keyword">val</span> init_work_dir : string</span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span><span> =
  <span><span class="optlabel">?deprecated</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">long</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?short</span>:char <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?parse_mode</span>:<a href="#type-parse_mode">parse_mode</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?in_help</span>:<span><span>(<a href="../../ATDGenerated/InferCommand/index.html#type-t">ATDGenerated.InferCommand.t</a> * string)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?meta</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>The <code>mk_*</code> functions declare command line options, while <code>parse</code> parses then according to the declared options.</p><p>The arguments of the declaration functions are largely treated uniformly:</p><ul><li><code>long</code> declares the option <code>--long</code></li><li><code>short</code> declares the option <code>-short</code> as an alias</li><li><code>deprecated</code> declares the option <code>-key</code> as an alias, for each <code>key</code> in <code>deprecated</code></li><li><code>default</code> specifies the default value</li><li><code>default_to_string</code> is used to document the default value</li><li><code>f</code> specifies a transformation to be performed on the parsed value before setting the config variable</li><li><code>symbols</code> is an association list sometimes used in place of <code>f</code></li><li><code>parse_mode</code> declares which parse mode the option is for</li><li><code>in_help</code> indicates the man pages in which the command should be documented, as generated by calling infer with --help. Otherwise it appears only in --help-full.</li><li><code>meta</code> is a meta-variable naming the parsed value for documentation purposes</li><li>a documentation string</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_set"><a href="#val-mk_set" class="anchor"></a><code><span><span class="keyword">val</span> mk_set : <span><span><span class="type-var">'a</span> <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>mk_set variable value</code> defines a command line option which sets <code>variable</code> to <code>value</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_bool"><a href="#val-mk_bool" class="anchor"></a><code><span><span class="keyword">val</span> mk_bool : 
  <span><span class="optlabel">?deprecated_no</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?default</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?f</span>:<span>(<span>bool <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>bool <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>mk_bool long short doc</code> defines a <code>bool ref</code> set by the command line flag <code>--long</code> (and <code>-s</code>), and cleared by the flag <code>--no-long</code> (and <code>-S</code>). If <code>long</code> already has a &quot;no-&quot; prefix, or <code>s</code> is capital, then the existing prefixes will instead be removed. The default value is <code>false</code> unless overridden by <code>~default:true</code>. The <code>doc</code> string will be prefixed with either &quot;Activates:&quot; or &quot;Deactivates:&quot;, so should be phrased accordingly.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_bool_group"><a href="#val-mk_bool_group" class="anchor"></a><code><span><span class="keyword">val</span> mk_bool_group : 
  <span><span class="optlabel">?deprecated_no</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?default</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?f</span>:<span>(<span>bool <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span><span>bool <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span> list</span> <span class="arrow">&#45;&gt;</span></span>
    <span><span><span>bool <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span> list</span> <span class="arrow">&#45;&gt;</span></span>
    <span>bool <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span>)</span>
    <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>mk_bool_group children not_children</code> behaves as <code>mk_bool</code> with the addition that all the <code>children</code> are also set and the <code>no_children</code> are unset. A child can be unset by including &quot;--no-child&quot; later in the arguments.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_int"><a href="#val-mk_int" class="anchor"></a><code><span><span class="keyword">val</span> mk_int : 
  <span><span class="label">default</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?default_to_string</span>:<span>(<span>int <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?f</span>:<span>(<span>int <span class="arrow">&#45;&gt;</span></span> int)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>int <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_int_opt"><a href="#val-mk_int_opt" class="anchor"></a><code><span><span class="keyword">val</span> mk_int_opt : 
  <span><span class="optlabel">?default</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?default_to_string</span>:<span>(<span><span>int option</span> <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?f</span>:<span>(<span>int <span class="arrow">&#45;&gt;</span></span> int)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>int option</span> <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_int64_opt"><a href="#val-mk_int64_opt" class="anchor"></a><code><span><span class="keyword">val</span> mk_int64_opt : 
  <span><span class="optlabel">?default</span>:<span class="xref-unresolved">IStdlib</span>.IStd.Int64.t <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?default_to_string</span>:<span>(<span><span><span class="xref-unresolved">IStdlib</span>.IStd.Int64.t option</span> <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?f</span>:<span>(<span><span class="xref-unresolved">IStdlib</span>.IStd.Int64.t <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">IStdlib</span>.IStd.Int64.t)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span class="xref-unresolved">IStdlib</span>.IStd.Int64.t option</span> <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_float_opt"><a href="#val-mk_float_opt" class="anchor"></a><code><span><span class="keyword">val</span> mk_float_opt : 
  <span><span class="optlabel">?default</span>:float <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?default_to_string</span>:<span>(<span><span>float option</span> <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>float option</span> <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_string"><a href="#val-mk_string" class="anchor"></a><code><span><span class="keyword">val</span> mk_string : 
  <span><span class="label">default</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?default_to_string</span>:<span>(<span>string <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?f</span>:<span>(<span>string <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>string <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_string_opt"><a href="#val-mk_string_opt" class="anchor"></a><code><span><span class="keyword">val</span> mk_string_opt : 
  <span><span class="optlabel">?default</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?default_to_string</span>:<span>(<span><span>string option</span> <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?f</span>:<span>(<span>string <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?mk_reset</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>string option</span> <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>An option &quot;--<code>long</code>-reset&quot; is automatically created that resets the reference to None when found on the command line, unless <code>mk_reset</code> is false.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_string_list"><a href="#val-mk_string_list" class="anchor"></a><code><span><span class="keyword">val</span> mk_string_list : 
  <span><span class="optlabel">?default</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?default_to_string</span>:<span>(<span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?f</span>:<span>(<span>string <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>string <a href="../../IStdlib/RevList/index.html#type-t">IStdlib.RevList.t</a></span> <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>mk_string_list</code> defines a <code>string list ref</code>, initialized to <code>[]</code> unless overridden by <code>~default</code>. Each argument of an occurrence of the option will be prepended to the list, so the final value will be in the reverse order they appeared on the command line.</p><p>An option &quot;--<code>long</code>-reset&quot; is automatically created that resets the list to  when found on the command line.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_string_map"><a href="#val-mk_string_map" class="anchor"></a><code><span><span class="keyword">val</span> mk_string_map : 
  <span><span class="optlabel">?default</span>:<span>string <span class="xref-unresolved">IStdlib</span>.IStd.String.Map.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?default_to_string</span>:<span>(<span><span>string <span class="xref-unresolved">IStdlib</span>.IStd.String.Map.t</span> <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>string <span class="xref-unresolved">IStdlib</span>.IStd.String.Map.t</span> <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_path"><a href="#val-mk_path" class="anchor"></a><code><span><span class="keyword">val</span> mk_path : 
  <span><span class="label">default</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?default_to_string</span>:<span>(<span>string <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?f</span>:<span>(<span>string <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>string <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>like <code>mk_string</code> but will resolve the string into an absolute path so that children processes agree on the absolute path that the option represents</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_path_opt"><a href="#val-mk_path_opt" class="anchor"></a><code><span><span class="keyword">val</span> mk_path_opt : 
  <span><span class="optlabel">?default</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?default_to_string</span>:<span>(<span><span>string option</span> <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>string option</span> <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>analogous of <code>mk_string_opt</code> with the extra feature of <code>mk_path</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_path_list"><a href="#val-mk_path_list" class="anchor"></a><code><span><span class="keyword">val</span> mk_path_list : 
  <span><span class="optlabel">?default</span>:<span>string list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?default_to_string</span>:<span>(<span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> string)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span>string <a href="../../IStdlib/RevList/index.html#type-t">IStdlib.RevList.t</a></span> <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>analogous of <code>mk_string_list</code> with the extra feature of <code>mk_path</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_symbol"><a href="#val-mk_symbol" class="anchor"></a><code><span><span class="keyword">val</span> mk_symbol : 
  <span><span class="label">default</span>:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">symbols</span>:<span><span>(string * <span class="type-var">'a</span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">eq</span>:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?f</span>:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span class="type-var">'a</span> <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>mk_symbol long symbols</code> defines a command line flag <code>--long &lt;symbol&gt;</code> where <code>(&lt;symbol&gt;,_)</code> is an element of <code>symbols</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_symbol_opt"><a href="#val-mk_symbol_opt" class="anchor"></a><code><span><span class="keyword">val</span> mk_symbol_opt : 
  <span><span class="label">symbols</span>:<span><span>(string * <span class="type-var">'a</span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?f</span>:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?mk_reset</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span class="type-var">'a</span> option</span> <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>mk_symbol_opt</code> is similar to <code>mk_symbol</code> but defaults to <code>None</code>. If <code>mk_reset</code> is false then do not create an additional --<code>long</code>-reset option to reset the value of the option to <code>None</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_symbol_seq"><a href="#val-mk_symbol_seq" class="anchor"></a><code><span><span class="keyword">val</span> mk_symbol_seq : 
  <span><span class="optlabel">?default</span>:<span><span class="type-var">'a</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">symbols</span>:<span><span>(string * <span class="type-var">'a</span>)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">eq</span>:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><span><span class="type-var">'a</span> list</span> <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p><code>mk_symbol_seq long symbols</code> defines a command line flag <code>--long &lt;symbol sequence&gt;</code> where <code>&lt;symbol sequence&gt;</code> is a comma-separated sequence of <code>&lt;symbol&gt;</code>s such that <code>(&lt;symbol&gt;,_)</code> is an element of <code>symbols</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_json"><a href="#val-mk_json" class="anchor"></a><code><span><span class="keyword">val</span> mk_json : <span><span><span class="xref-unresolved">Yojson</span>.Safe.t <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_anon"><a href="#val-mk_anon" class="anchor"></a><code><span><span class="keyword">val</span> mk_anon : <span>unit <span class="arrow">&#45;&gt;</span></span> <span><span>string <a href="../../IStdlib/RevList/index.html#type-t">IStdlib.RevList.t</a></span> <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span></span></code></div><div class="spec-doc"><p><code>mk_anon ()</code> defines a <code>string list ref</code> of the anonymous command line arguments, in the reverse order they appeared on the command line.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_rest_actions"><a href="#val-mk_rest_actions" class="anchor"></a><code><span><span class="keyword">val</span> mk_rest_actions : 
  <span><span class="optlabel">?parse_mode</span>:<a href="#type-parse_mode">parse_mode</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?in_help</span>:<span><span>(<a href="../../ATDGenerated/InferCommand/index.html#type-t">ATDGenerated.InferCommand.t</a> * string)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">usage</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span>string <span class="arrow">&#45;&gt;</span></span> <a href="#type-parse_mode">parse_mode</a>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>string list</span> <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span></span></code></div><div class="spec-doc"><p><code>mk_rest_actions doc ~usage command_to_parse_mode</code> defines a <code>string list ref</code> of the command line arguments following <code>&quot;--&quot;</code>, in the reverse order they appeared on the command line. <code>usage</code> is the usage message in case of parse errors or if --help is passed. For example, calling <code>mk_action</code> and parsing <code>exe -opt1 -opt2 -- arg1 arg2</code> will result in the returned ref containing <code>arg2; arg1</code>. Additionally, the first arg following <code>&quot;--&quot;</code> is passed to <code>command_to_parse_mode</code> to obtain the parse action that will be used to parse the remaining arguments.</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-command_doc"><a href="#type-command_doc" class="anchor"></a><code><span><span class="keyword">type</span> command_doc</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_command_doc"><a href="#val-mk_command_doc" class="anchor"></a><code><span><span class="keyword">val</span> mk_command_doc : 
  <span><span class="label">title</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">section</span>:int <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">version</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">date</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">short_description</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">synopsis</span>:<span><span class="xref-unresolved">Cmdliner</span>.Manpage.block list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">description</span>:<span><span class="xref-unresolved">Cmdliner</span>.Manpage.block list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?options</span>:
    <span>[ <span>`Prepend of <span><span class="xref-unresolved">Cmdliner</span>.Manpage.block list</span></span>
    <span><span>| `Replace</span> of <span><span class="xref-unresolved">Cmdliner</span>.Manpage.block list</span></span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?exit_status</span>:<span><span class="xref-unresolved">Cmdliner</span>.Manpage.block list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?environment</span>:<span><span class="xref-unresolved">Cmdliner</span>.Manpage.block list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?files</span>:<span><span class="xref-unresolved">Cmdliner</span>.Manpage.block list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?notes</span>:<span><span class="xref-unresolved">Cmdliner</span>.Manpage.block list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?bugs</span>:<span><span class="xref-unresolved">Cmdliner</span>.Manpage.block list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?examples</span>:<span><span class="xref-unresolved">Cmdliner</span>.Manpage.block list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?see_also</span>:<span><span class="xref-unresolved">Cmdliner</span>.Manpage.block list</span> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-command_doc">command_doc</a></span></code></div><div class="spec-doc"><p><code>mk_command_doc ~title ~section ~version ~short_description ~synopsis ~description ~see_also
    command_exe</code> records information about a command that is used to create its man page. A lot of the concepts are taken from man-pages(7).</p><ul><li><code>command_exe</code> is the name of the command, preferably an executable that selects the command</li><li><code>title</code> will be the title of the manual</li><li><code>section</code> will be the section of the manual (the number 7 in man-pages(7))</li><li><code>version</code> is the version string of the command</li><li><code>date</code> is the date of the last modification of the manual</li><li><code>short_description</code> is a one-line description of the command</li><li><code>options</code> can be either <code>`Replace blocks</code>, which populates the OPTIONS section with <code>blocks</code>, or <code>`Prepend blocks</code>, in which case the options from the command are used, prepended by <code>blocks</code>. If unspecified it defaults to <code>`Prepend []</code>.</li><li>All the other <code>section_name</code> options correspond to the contents of the section <code>section_name</code>. Some are mandatory and some are not.</li></ul></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-mk_subcommand"><a href="#val-mk_subcommand" class="anchor"></a><code><span><span class="keyword">val</span> mk_subcommand : 
  <span><a href="../../ATDGenerated/InferCommand/index.html#type-t">ATDGenerated.InferCommand.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?on_unknown_arg</span>:<span>[ `Add <span>| `Skip</span> <span>| `Reject</span> ]</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">name</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?deprecated_long</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?parse_mode</span>:<a href="#type-parse_mode">parse_mode</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?in_help</span>:<span><span>(<a href="../../ATDGenerated/InferCommand/index.html#type-t">ATDGenerated.InferCommand.t</a> * string)</span> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-command_doc">command_doc</a> option</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>mk_subcommand command ~long command_doc</code> defines the subcommand <code>command</code>. A subcommand is activated by passing <code>name</code>, and by passing <code>--deprecated_long</code> if specified. A man page is automatically generated for <code>command</code> based on the information in <code>command_doc</code>, if available (otherwise the command is considered internal). <code>on_unknown_arg</code> is the action taken on unknown anonymous arguments; it is `Reject by default.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-infer_top_results_dir_env_var"><a href="#val-infer_top_results_dir_env_var" class="anchor"></a><code><span><span class="keyword">val</span> infer_top_results_dir_env_var : string</span></code></div><div class="spec-doc"><p>environment variable used for the results dir of the originator process</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-infer_cwd_env_var"><a href="#val-infer_cwd_env_var" class="anchor"></a><code><span><span class="keyword">val</span> infer_cwd_env_var : string</span></code></div><div class="spec-doc"><p>environment variable pointing to the originator's process working directory</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-args_env_var"><a href="#val-args_env_var" class="anchor"></a><code><span><span class="keyword">val</span> args_env_var : string</span></code></div><div class="spec-doc"><p>environment variable use to pass arguments from parent to child processes</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-strict_mode_env_var"><a href="#val-strict_mode_env_var" class="anchor"></a><code><span><span class="keyword">val</span> strict_mode_env_var : string</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-env_var_sep"><a href="#val-env_var_sep" class="anchor"></a><code><span><span class="keyword">val</span> env_var_sep : char</span></code></div><div class="spec-doc"><p>separator of argv elements when encoded into environment variables</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-extend_env_args"><a href="#val-extend_env_args" class="anchor"></a><code><span><span class="keyword">val</span> extend_env_args : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>extend_env_args args</code> appends <code>args</code> to those passed via <code>args_env_var</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-parse"><a href="#val-parse" class="anchor"></a><code><span><span class="keyword">val</span> parse : 
  <span><span class="optlabel">?config_file</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="label">usage</span>:<span class="xref-unresolved">IStdlib</span>.IStd.Arg.usage_msg <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-parse_mode">parse_mode</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../ATDGenerated/InferCommand/index.html#type-t">ATDGenerated.InferCommand.t</a> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../ATDGenerated/InferCommand/index.html#type-t">ATDGenerated.InferCommand.t</a> option</span> * <span>(<span>int <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span></span></code></div><div class="spec-doc"><p><code>parse ~usage parse_mode command</code> parses command line arguments as specified by preceding calls to the <code>mk_*</code> functions, and returns:</p><ul><li>the command selected by the user on the command line, except if <code>command</code> is not None in which case it is considered &quot;pre-selected&quot; for the user;</li><li>a function that prints the usage message and help text then exits with the code passed as argument.</li></ul><p>The decoded values of the inferconfig file <code>config_file</code>, if provided, are parsed, followed by the decoded values of the environment variable <code>args_env_var</code>, followed by <code>Sys.argv</code> if <code>parse_mode</code> is one that should parse command line arguments (this is defined in the implementation of this module). Therefore arguments passed on the command line supersede those specified in the environment variable, which themselves supersede those passed via the config file.</p><p>WARNING: An argument will be interpreted as many times as it appears in all of the config file, the environment variable, and the command line. The <code>args_env_var</code> is set to the set of options parsed in <code>args_env_var</code> and on the command line.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_env_var_set"><a href="#val-is_env_var_set" class="anchor"></a><code><span><span class="keyword">val</span> is_env_var_set : <span>string <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p><code>is_env_var_set var</code> is true if $<code>var</code>=1</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-show_manual"><a href="#val-show_manual" class="anchor"></a><code><span><span class="keyword">val</span> show_manual : 
  <span><span class="optlabel">?scrub_defaults</span>:bool <span class="arrow">&#45;&gt;</span></span>
  <span><span class="optlabel">?internal_section</span>:string <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Cmdliner</span>.Manpage.format <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-command_doc">command_doc</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../ATDGenerated/InferCommand/index.html#type-t">ATDGenerated.InferCommand.t</a> option</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Display the manual of <code>command</code> to the user, or <code>command_doc</code> if <code>command</code> is None. <code>format</code> is used as for <code>Cmdliner.Manpage.print</code>. If <code>internal_section</code> is specified, add a section titled <code>internal_section</code> about internal (hidden) options. If <code>scrub_defaults</code> then do not print default values for options.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-keep_args_file"><a href="#val-keep_args_file" class="anchor"></a><code><span><span class="keyword">val</span> keep_args_file : <span>bool <a href="../../IStdlib/IStd/index.html#type-ref">IStdlib.IStd.ref</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-inferconfig_path_arg"><a href="#val-inferconfig_path_arg" class="anchor"></a><code><span><span class="keyword">val</span> inferconfig_path_arg : string</span></code></div><div class="spec-doc"><p>name of argument for choosing path to inferconfig</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_to_env_args"><a href="#val-add_to_env_args" class="anchor"></a><code><span><span class="keyword">val</span> add_to_env_args : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>add the provided extra arguments to arguments held in <code>args_env_var</code> in the current process environment</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-in_env_with_extra_args"><a href="#val-in_env_with_extra_args" class="anchor"></a><code><span><span class="keyword">val</span> in_env_with_extra_args : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">f</span>:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>like <code>add_to_env_args</code> but only add the extra arguments during the execution of <code>f</code> and restore the environment after <code>f</code> has returned</p></div></div></div></body></html>
