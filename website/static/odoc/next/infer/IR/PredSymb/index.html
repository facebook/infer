<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>PredSymb (infer.IR.PredSymb)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">infer</a> &#x00BB; <a href="../index.html">IR</a> &#x00BB; PredSymb</nav><header class="odoc-preamble"><h1>Module <code><span>IR.PredSymb</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#programs-and-types">Programs and Types</a></li></ul></nav><div class="odoc-content"><p>The Smallfoot Intermediate Language: Predicate Symbols</p><h3 id="programs-and-types"><a href="#programs-and-types" class="anchor"></a>Programs and Types</h3><div class="odoc-spec"><div class="spec type" id="type-mem_kind" class="anchored"><a href="#type-mem_kind" class="anchor"></a><code><span><span class="keyword">type</span> mem_kind</span><span> = </span></code><table><tr id="type-mem_kind.Mmalloc" class="anchored"><td class="def variant constructor"><a href="#type-mem_kind.Mmalloc" class="anchor"></a><code><span>| </span><span><span class="constructor">Mmalloc</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>memory allocated with malloc</p><span class="comment-delim">*)</span></td></tr><tr id="type-mem_kind.Mnew" class="anchored"><td class="def variant constructor"><a href="#type-mem_kind.Mnew" class="anchor"></a><code><span>| </span><span><span class="constructor">Mnew</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>memory allocated with new</p><span class="comment-delim">*)</span></td></tr><tr id="type-mem_kind.Mnew_array" class="anchored"><td class="def variant constructor"><a href="#type-mem_kind.Mnew_array" class="anchor"></a><code><span>| </span><span><span class="constructor">Mnew_array</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>memory allocated with new</p><span class="comment-delim">*)</span></td></tr><tr id="type-mem_kind.Mobjc" class="anchored"><td class="def variant constructor"><a href="#type-mem_kind.Mobjc" class="anchor"></a><code><span>| </span><span><span class="constructor">Mobjc</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>memory allocated with objective-c alloc</p><span class="comment-delim">*)</span></td></tr></table></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_mem_kind" class="anchored"><a href="#val-compare_mem_kind" class="anchor"></a><code><span><span class="keyword">val</span> compare_mem_kind : <span><a href="#type-mem_kind">mem_kind</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-mem_kind">mem_kind</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-resource" class="anchored"><a href="#type-resource" class="anchor"></a><code><span><span class="keyword">type</span> resource</span><span> = </span></code><table><tr id="type-resource.Rmemory" class="anchored"><td class="def variant constructor"><a href="#type-resource.Rmemory" class="anchor"></a><code><span>| </span><span><span class="constructor">Rmemory</span> <span class="keyword">of</span> <a href="#type-mem_kind">mem_kind</a></span></code></td></tr><tr id="type-resource.Rfile" class="anchored"><td class="def variant constructor"><a href="#type-resource.Rfile" class="anchor"></a><code><span>| </span><span><span class="constructor">Rfile</span></span></code></td></tr><tr id="type-resource.Rignore" class="anchored"><td class="def variant constructor"><a href="#type-resource.Rignore" class="anchor"></a><code><span>| </span><span><span class="constructor">Rignore</span></span></code></td></tr><tr id="type-resource.Rlock" class="anchored"><td class="def variant constructor"><a href="#type-resource.Rlock" class="anchor"></a><code><span>| </span><span><span class="constructor">Rlock</span></span></code></td></tr></table></div><div class="spec-doc"><p>resource that can be allocated</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_resource" class="anchored"><a href="#val-compare_resource" class="anchor"></a><code><span><span class="keyword">val</span> compare_resource : <span><a href="#type-resource">resource</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-resource">resource</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-res_act_kind" class="anchored"><a href="#type-res_act_kind" class="anchor"></a><code><span><span class="keyword">type</span> res_act_kind</span><span> = </span></code><table><tr id="type-res_act_kind.Racquire" class="anchored"><td class="def variant constructor"><a href="#type-res_act_kind.Racquire" class="anchor"></a><code><span>| </span><span><span class="constructor">Racquire</span></span></code></td></tr><tr id="type-res_act_kind.Rrelease" class="anchored"><td class="def variant constructor"><a href="#type-res_act_kind.Rrelease" class="anchor"></a><code><span>| </span><span><span class="constructor">Rrelease</span></span></code></td></tr></table></div><div class="spec-doc"><p>kind of resource action</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_res_act_kind" class="anchored"><a href="#val-compare_res_act_kind" class="anchor"></a><code><span><span class="keyword">val</span> compare_res_act_kind : <span><a href="#type-res_act_kind">res_act_kind</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-res_act_kind">res_act_kind</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-equal_res_act_kind" class="anchored"><a href="#val-equal_res_act_kind" class="anchor"></a><code><span><span class="keyword">val</span> equal_res_act_kind : <span><a href="#type-res_act_kind">res_act_kind</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-res_act_kind">res_act_kind</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-dangling_kind" class="anchored"><a href="#type-dangling_kind" class="anchor"></a><code><span><span class="keyword">type</span> dangling_kind</span><span> = </span></code><table><tr id="type-dangling_kind.DAuninit" class="anchored"><td class="def variant constructor"><a href="#type-dangling_kind.DAuninit" class="anchor"></a><code><span>| </span><span><span class="constructor">DAuninit</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>pointer is dangling because it is uninitialized</p><span class="comment-delim">*)</span></td></tr><tr id="type-dangling_kind.DAaddr_stack_var" class="anchored"><td class="def variant constructor"><a href="#type-dangling_kind.DAaddr_stack_var" class="anchor"></a><code><span>| </span><span><span class="constructor">DAaddr_stack_var</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>pointer is dangling because it is the address of a stack variable which went out of scope</p><span class="comment-delim">*)</span></td></tr><tr id="type-dangling_kind.DAminusone" class="anchored"><td class="def variant constructor"><a href="#type-dangling_kind.DAminusone" class="anchor"></a><code><span>| </span><span><span class="constructor">DAminusone</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>pointer is -1</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>kind of dangling pointers</p></div></div><div class="odoc-spec"><div class="spec type" id="type-path_pos" class="anchored"><a href="#type-path_pos" class="anchor"></a><code><span><span class="keyword">type</span> path_pos</span><span> = <a href="../Procname/index.html#type-t">Procname.t</a> * int</span></code></div><div class="spec-doc"><p>position in a path: proc name, node id</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_path_pos" class="anchored"><a href="#val-compare_path_pos" class="anchor"></a><code><span><span class="keyword">val</span> compare_path_pos : <span><a href="#type-path_pos">path_pos</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-path_pos">path_pos</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-equal_path_pos" class="anchored"><a href="#val-equal_path_pos" class="anchor"></a><code><span><span class="keyword">val</span> equal_path_pos : <span><a href="#type-path_pos">path_pos</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-path_pos">path_pos</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-res_action" class="anchored"><a href="#type-res_action" class="anchor"></a><code><span><span class="keyword">type</span> res_action</span><span> = </span><span>{</span></code><table><tr id="type-res_action.ra_kind" class="anchored"><td class="def record field"><a href="#type-res_action.ra_kind" class="anchor"></a><code><span>ra_kind : <a href="#type-res_act_kind">res_act_kind</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>kind of action</p><span class="comment-delim">*)</span></td></tr><tr id="type-res_action.ra_res" class="anchored"><td class="def record field"><a href="#type-res_action.ra_res" class="anchor"></a><code><span>ra_res : <a href="#type-resource">resource</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>kind of resource</p><span class="comment-delim">*)</span></td></tr><tr id="type-res_action.ra_pname" class="anchored"><td class="def record field"><a href="#type-res_action.ra_pname" class="anchor"></a><code><span>ra_pname : <a href="../Procname/index.html#type-t">Procname.t</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>name of the procedure used to acquire/release the resource</p><span class="comment-delim">*)</span></td></tr><tr id="type-res_action.ra_loc" class="anchored"><td class="def record field"><a href="#type-res_action.ra_loc" class="anchor"></a><code><span>ra_loc : <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>location of the acquire/release</p><span class="comment-delim">*)</span></td></tr><tr id="type-res_action.ra_vpath" class="anchored"><td class="def record field"><a href="#type-res_action.ra_vpath" class="anchor"></a><code><span>ra_vpath : <a href="../DecompiledExp/index.html#type-vpath">DecompiledExp.vpath</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>vpath of the resource value</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>acquire/release action on a resource</p></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = </span></code><table><tr id="type-t.Aresource" class="anchored"><td class="def variant constructor"><a href="#type-t.Aresource" class="anchor"></a><code><span>| </span><span><span class="constructor">Aresource</span> <span class="keyword">of</span> <a href="#type-res_action">res_action</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>resource acquire/release</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.Aautorelease" class="anchored"><td class="def variant constructor"><a href="#type-t.Aautorelease" class="anchor"></a><code><span>| </span><span><span class="constructor">Aautorelease</span></span></code></td></tr><tr id="type-t.Adangling" class="anchored"><td class="def variant constructor"><a href="#type-t.Adangling" class="anchor"></a><code><span>| </span><span><span class="constructor">Adangling</span> <span class="keyword">of</span> <a href="#type-dangling_kind">dangling_kind</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>dangling pointer</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.Aundef" class="anchored"><td class="def variant constructor"><a href="#type-t.Aundef" class="anchor"></a><code><span>| </span><span><span class="constructor">Aundef</span> <span class="keyword">of</span> <a href="../Procname/index.html#type-t">Procname.t</a> * <a href="../Annot/Item/index.html#type-t">Annot.Item.t</a> * <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a> * <a href="#type-path_pos">path_pos</a></span></code></td></tr><tr id="type-t.Alocked" class="anchored"><td class="def variant constructor"><a href="#type-t.Alocked" class="anchor"></a><code><span>| </span><span><span class="constructor">Alocked</span></span></code></td></tr><tr id="type-t.Aunlocked" class="anchored"><td class="def variant constructor"><a href="#type-t.Aunlocked" class="anchor"></a><code><span>| </span><span><span class="constructor">Aunlocked</span></span></code></td></tr><tr id="type-t.Adiv0" class="anchored"><td class="def variant constructor"><a href="#type-t.Adiv0" class="anchor"></a><code><span>| </span><span><span class="constructor">Adiv0</span> <span class="keyword">of</span> <a href="#type-path_pos">path_pos</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>value appeared in second argument of division at given path position</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.Aobjc_null" class="anchored"><td class="def variant constructor"><a href="#type-t.Aobjc_null" class="anchor"></a><code><span>| </span><span><span class="constructor">Aobjc_null</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>attributed exp is null due to a call to a method with given path as null receiver</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.Aretval" class="anchored"><td class="def variant constructor"><a href="#type-t.Aretval" class="anchor"></a><code><span>| </span><span><span class="constructor">Aretval</span> <span class="keyword">of</span> <a href="../Procname/index.html#type-t">Procname.t</a> * <a href="../Annot/Item/index.html#type-t">Annot.Item.t</a></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>value was returned from a call to the given procedure, plus the annots of the return value</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.Aobserver" class="anchored"><td class="def variant constructor"><a href="#type-t.Aobserver" class="anchor"></a><code><span>| </span><span><span class="constructor">Aobserver</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>denotes an object registered as an observers to a notification center</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.Aunsubscribed_observer" class="anchored"><td class="def variant constructor"><a href="#type-t.Aunsubscribed_observer" class="anchor"></a><code><span>| </span><span><span class="constructor">Aunsubscribed_observer</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>denotes an object unsubscribed from observers of a notification center</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.Awont_leak" class="anchored"><td class="def variant constructor"><a href="#type-t.Awont_leak" class="anchor"></a><code><span>| </span><span><span class="constructor">Awont_leak</span></span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>value do not participate in memory leak analysis</p><span class="comment-delim">*)</span></td></tr></table></div><div class="spec-doc"><p>Attributes are nary function symbols that are applied to expression arguments in Apred and Anpred atomic formulas. Many operations don't make much sense for nullary predicates, and are generally treated as no-ops. The first argument is treated specially, as the &quot;anchor&quot; of the predicate application. For example, adding or removing an attribute uses the anchor to identify the atom to operate on. Also, abstraction and normalization operations treat the anchor specially and maintain more information on it than other arguments. Therefore when attaching an attribute to an expression, that expression should be the first argument, optionally followed by additional related expressions.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare" class="anchored"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-equal" class="anchored"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-mem_alloc_pname" class="anchored"><a href="#val-mem_alloc_pname" class="anchor"></a><code><span><span class="keyword">val</span> mem_alloc_pname : <span><a href="#type-mem_kind">mem_kind</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Procname/index.html#type-t">Procname.t</a></span></code></div><div class="spec-doc"><p>name of the allocation function for the given memory kind</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mem_dealloc_pname" class="anchored"><a href="#val-mem_dealloc_pname" class="anchor"></a><code><span><span class="keyword">val</span> mem_dealloc_pname : <span><a href="#type-mem_kind">mem_kind</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Procname/index.html#type-t">Procname.t</a></span></code></div><div class="spec-doc"><p>name of the deallocation function for the given memory kind</p></div></div><div class="odoc-spec"><div class="spec type" id="type-category" class="anchored"><a href="#type-category" class="anchor"></a><code><span><span class="keyword">type</span> category</span><span> = </span></code><table><tr id="type-category.ACresource" class="anchored"><td class="def variant constructor"><a href="#type-category.ACresource" class="anchor"></a><code><span>| </span><span><span class="constructor">ACresource</span></span></code></td></tr><tr id="type-category.ACautorelease" class="anchored"><td class="def variant constructor"><a href="#type-category.ACautorelease" class="anchor"></a><code><span>| </span><span><span class="constructor">ACautorelease</span></span></code></td></tr><tr id="type-category.AClock" class="anchored"><td class="def variant constructor"><a href="#type-category.AClock" class="anchor"></a><code><span>| </span><span><span class="constructor">AClock</span></span></code></td></tr><tr id="type-category.ACdiv0" class="anchored"><td class="def variant constructor"><a href="#type-category.ACdiv0" class="anchor"></a><code><span>| </span><span><span class="constructor">ACdiv0</span></span></code></td></tr><tr id="type-category.ACobjc_null" class="anchored"><td class="def variant constructor"><a href="#type-category.ACobjc_null" class="anchor"></a><code><span>| </span><span><span class="constructor">ACobjc_null</span></span></code></td></tr><tr id="type-category.ACundef" class="anchored"><td class="def variant constructor"><a href="#type-category.ACundef" class="anchor"></a><code><span>| </span><span><span class="constructor">ACundef</span></span></code></td></tr><tr id="type-category.ACretval" class="anchored"><td class="def variant constructor"><a href="#type-category.ACretval" class="anchor"></a><code><span>| </span><span><span class="constructor">ACretval</span></span></code></td></tr><tr id="type-category.ACobserver" class="anchored"><td class="def variant constructor"><a href="#type-category.ACobserver" class="anchor"></a><code><span>| </span><span><span class="constructor">ACobserver</span></span></code></td></tr><tr id="type-category.ACwontleak" class="anchored"><td class="def variant constructor"><a href="#type-category.ACwontleak" class="anchor"></a><code><span>| </span><span><span class="constructor">ACwontleak</span></span></code></td></tr></table></div><div class="spec-doc"><p>Categories of attributes</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_category" class="anchored"><a href="#val-compare_category" class="anchor"></a><code><span><span class="keyword">val</span> compare_category : <span><a href="#type-category">category</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-category">category</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-equal_category" class="anchored"><a href="#val-equal_category" class="anchor"></a><code><span><span class="keyword">val</span> equal_category : <span><a href="#type-category">category</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-category">category</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-to_category" class="anchored"><a href="#val-to_category" class="anchor"></a><code><span><span class="keyword">val</span> to_category : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-category">category</a></span></code></div><div class="spec-doc"><p>Return the category to which the attribute belongs.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-is_undef" class="anchored"><a href="#val-is_undef" class="anchor"></a><code><span><span class="keyword">val</span> is_undef : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-to_string" class="anchored"><a href="#val-to_string" class="anchor"></a><code><span><span class="keyword">val</span> to_string : <span><a href="../../IStdlib/Pp/index.html#type-env">IStdlib.Pp.env</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>convert the attribute to a string</p></div></div><div class="odoc-spec"><div class="spec value" id="val-d_attribute" class="anchored"><a href="#val-d_attribute" class="anchor"></a><code><span><span class="keyword">val</span> d_attribute : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Dump an attribute.</p></div></div></div></body></html>