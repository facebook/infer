<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Utils (infer.IBase.Utils)</title><link rel="stylesheet" href="../../../_odoc_support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../_odoc_support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">infer</a> &#x00BB; <a href="../index.html">IBase</a> &#x00BB; Utils</nav><header class="odoc-preamble"><h1>Module <code><span>IBase.Utils</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value anchored" id="val-fold_folders"><a href="#val-fold_folders" class="anchor"></a><code><span><span class="keyword">val</span> fold_folders : 
  <span>init:<span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>(<span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'acc</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>path:string <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'acc</span></span></code></div><div class="spec-doc"><p>recursively traverse a path for folders, returning results by a given fold function</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fold_files"><a href="#val-fold_files" class="anchor"></a><code><span><span class="keyword">val</span> fold_files : <span>init:<span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="type-var">'acc</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'acc</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span>path:string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'acc</span></span></code></div><div class="spec-doc"><p>recursively traverse a path for files, returning results by a given fold function</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-find_files"><a href="#val-find_files" class="anchor"></a><code><span><span class="keyword">val</span> find_files : <span>path:string <span class="arrow">&#45;&gt;</span></span> <span>extension:string <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p>recursively find all files in <code>path</code> with names ending in <code>extension</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_crc_hex32"><a href="#val-string_crc_hex32" class="anchor"></a><code><span><span class="keyword">val</span> string_crc_hex32 : <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Compute a 32-character hexadecimal crc using the Digest module</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_file"><a href="#val-read_file" class="anchor"></a><code><span><span class="keyword">val</span> read_file : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span>string list</span>, string)</span> <span class="xref-unresolved">IStdlib</span>.IStd.Result.t</span></span></code></div><div class="spec-doc"><p>read a source file and return a list of lines</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-normalize_path_from"><a href="#val-normalize_path_from" class="anchor"></a><code><span><span class="keyword">val</span> normalize_path_from : <span>root:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string * string</span></code></div><div class="spec-doc"><p><code>normalize_path_from ~root path</code> removes &quot;..&quot; and &quot;.&quot; parts of <code>root/path</code> when possible and returns the new <code>root</code> and <code>path</code>, eg if <code>root = &quot;r&quot;</code> and <code>path = &quot;a/../../../foo/./bar&quot;</code> then the result is <code>(&quot;../foo/bar&quot;, &quot;.&quot;)</code> (in particular &quot;r/a/../../../foo/./bar&quot; and &quot;./../foo/bar&quot; represent the same file)</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-normalize_path"><a href="#val-normalize_path" class="anchor"></a><code><span><span class="keyword">val</span> normalize_path : <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Normalize a path without a root</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-flatten_path"><a href="#val-flatten_path" class="anchor"></a><code><span><span class="keyword">val</span> flatten_path : <span>?sep:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Flatten a/b/c as a-b-c. Special dirs .. and . are abbreviated. The separator <code>-</code> can be customized.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-filename_to_absolute"><a href="#val-filename_to_absolute" class="anchor"></a><code><span><span class="keyword">val</span> filename_to_absolute : <span>root:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Convert a filename to an absolute one if it is relative, and normalize &quot;.&quot; and &quot;..&quot;</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-filename_to_relative"><a href="#val-filename_to_relative" class="anchor"></a><code><span><span class="keyword">val</span> filename_to_relative : 
  <span>?force_full_backtrack:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?backtrack:int <span class="arrow">&#45;&gt;</span></span>
  <span>root:string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>string option</span></span></code></div><div class="spec-doc"><p>Convert an absolute filename to one relative to a root directory. Returns <code>None</code> if filename is not under root. The backtrack level sets the maximum level of steps in the parent directories to search for a common prefix</p></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-outfile"><a href="#type-outfile" class="anchor"></a><code><span><span class="keyword">type</span> outfile</span><span> = </span><span>{</span></code><ol><li id="type-outfile.fname" class="def record field anchored"><a href="#type-outfile.fname" class="anchor"></a><code><span>fname : string;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>name of the file</p><span class="comment-delim">*)</span></div></li><li id="type-outfile.out_c" class="def record field anchored"><a href="#type-outfile.out_c" class="anchor"></a><code><span>out_c : <span class="xref-unresolved">IStdlib</span>.IStd.Out_channel.t;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>output channel</p><span class="comment-delim">*)</span></div></li><li id="type-outfile.fmt" class="def record field anchored"><a href="#type-outfile.fmt" class="anchor"></a><code><span>fmt : <span class="xref-unresolved">Stdlib</span>.Format.formatter;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>formatter for printing</p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></div><div class="spec-doc"><p>type for files used for printing</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create_outfile"><a href="#val-create_outfile" class="anchor"></a><code><span><span class="keyword">val</span> create_outfile : <span>string <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-outfile">outfile</a> option</span></span></code></div><div class="spec-doc"><p>create an outfile for the command line</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-close_outf"><a href="#val-close_outf" class="anchor"></a><code><span><span class="keyword">val</span> close_outf : <span><a href="#type-outfile">outfile</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>close an outfile</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-directory_fold"><a href="#val-directory_fold" class="anchor"></a><code><span><span class="keyword">val</span> directory_fold : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Functional fold function over all the files of a directory</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-directory_iter"><a href="#val-directory_iter" class="anchor"></a><code><span><span class="keyword">val</span> directory_iter : <span><span>(<span>string <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Functional iter function over all the files of a directory</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_json_file"><a href="#val-read_json_file" class="anchor"></a><code><span><span class="keyword">val</span> read_json_file : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span>(<span class="xref-unresolved">Yojson</span>.Basic.t, string)</span> <span class="xref-unresolved">IStdlib</span>.IStd.Result.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-read_safe_json_file"><a href="#val-read_safe_json_file" class="anchor"></a><code><span><span class="keyword">val</span> read_safe_json_file : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span class="xref-unresolved">Yojson</span>.Safe.t, string)</span> <span class="xref-unresolved">IStdlib</span>.IStd.Result.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_file_in"><a href="#val-with_file_in" class="anchor"></a><code><span><span class="keyword">val</span> with_file_in : <span>string <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="xref-unresolved">IStdlib</span>.IStd.In_channel.t <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_file_out"><a href="#val-with_file_out" class="anchor"></a><code><span><span class="keyword">val</span> with_file_out : 
  <span>?append:bool <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>(<span><span class="xref-unresolved">IStdlib</span>.IStd.Out_channel.t <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_intermediate_temp_file_out"><a href="#val-with_intermediate_temp_file_out" class="anchor"></a><code><span><span class="keyword">val</span> with_intermediate_temp_file_out : 
  <span>?retry:bool <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>(<span><span class="xref-unresolved">IStdlib</span>.IStd.Out_channel.t <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>like <code>with_file_out</code> but uses a fresh intermediate temporary file and rename to avoid write-write races</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-write_json_to_file"><a href="#val-write_json_to_file" class="anchor"></a><code><span><span class="keyword">val</span> write_json_to_file : <span>string <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Yojson</span>.Basic.t <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-consume_in"><a href="#val-consume_in" class="anchor"></a><code><span><span class="keyword">val</span> consume_in : <span><span class="xref-unresolved">IStdlib</span>.IStd.In_channel.t <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>consume and ignore all the lines from the channel until End_of_file is reached</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-echo_in"><a href="#val-echo_in" class="anchor"></a><code><span><span class="keyword">val</span> echo_in : <span><span class="xref-unresolved">IStdlib</span>.IStd.In_channel.t <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>echo the lines we get to stdout until End_of_file is reached</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_channel_in"><a href="#val-with_channel_in" class="anchor"></a><code><span><span class="keyword">val</span> with_channel_in : <span>f:<span>(<span>string <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">IStdlib</span>.IStd.In_channel.t <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-with_process_in"><a href="#val-with_process_in" class="anchor"></a><code><span><span class="keyword">val</span> with_process_in : 
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(<span><span class="xref-unresolved">IStdlib</span>.IStd.In_channel.t <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span> * <span class="xref-unresolved">IStdlib</span>.IStd.Unix.Exit_or_signal.t</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-create_dir"><a href="#val-create_dir" class="anchor"></a><code><span><span class="keyword">val</span> create_dir : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>recursively create a directory if it does not exist already</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-out_channel_create_with_dir"><a href="#val-out_channel_create_with_dir" class="anchor"></a><code><span><span class="keyword">val</span> out_channel_create_with_dir : 
  <span><a href="../../IStdlib/IStd/Filename/index.html#type-t">IStdlib.IStd.Filename.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span class="xref-unresolved">IStdlib</span>.IStd.Out_channel.t</span></code></div><div class="spec-doc"><p>create an out channel with creating missing directories</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-realpath"><a href="#val-realpath" class="anchor"></a><code><span><span class="keyword">val</span> realpath : <span>?warn_on_error:bool <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p><code>realpath warn_on_error path</code> returns path with all symbolic links resolved. It caches results of previous calls to avoid expensive system calls. WARNING: If warn_on_error is false, no warning will be shown whenever an error occurs for the given path (e.g. if it does not exist).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-suppress_stderr2"><a href="#val-suppress_stderr2" class="anchor"></a><code><span><span class="keyword">val</span> suppress_stderr2 : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'c</span></span></code></div><div class="spec-doc"><p>wraps a function expecting 2 arguments in another that temporarily redirects stderr to /dev/null for the duration of the function call</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rmtree"><a href="#val-rmtree" class="anchor"></a><code><span><span class="keyword">val</span> rmtree : <span>?except:<span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>rmtree path</code> removes <code>path</code> and, if <code>path</code> is a directory, recursively removes its contents. Files whose name matches the absolute paths in <code>except</code> are not removed. If <code>except</code> is specified then <code>path</code> will only be spared if <code>path</code> appears literally in <code>except</code> (whereas files that are deeper will match if their absolute path is in <code>except</code>).</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-rm_all_in_dir"><a href="#val-rm_all_in_dir" class="anchor"></a><code><span><span class="keyword">val</span> rm_all_in_dir : <span>?except:<span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>rm_all_in_dir ?except path</code> removes all entries in <code>path</code>/* except for the (absolute) paths in <code>except</code></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-iter_dir"><a href="#val-iter_dir" class="anchor"></a><code><span><span class="keyword">val</span> iter_dir : <span>string <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span>string <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>iterate on each entry in the directory except for &quot;.&quot; and &quot;..&quot;</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-better_hash"><a href="#val-better_hash" class="anchor"></a><code><span><span class="keyword">val</span> better_hash : <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">IStdlib</span>.IStd.Caml.Digest.t</span></code></div><div class="spec-doc"><p>Hashtbl.hash only hashes the first 10 meaningful values, <code>better_hash</code> uses everything.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-unlink_file_on_exit"><a href="#val-unlink_file_on_exit" class="anchor"></a><code><span><span class="keyword">val</span> unlink_file_on_exit : <span>string <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>delete <code>temporary</code> file on exit</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-strip_balanced_once"><a href="#val-strip_balanced_once" class="anchor"></a><code><span><span class="keyword">val</span> strip_balanced_once : <span>drop:<span>(<span>char <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>drop at most one layer of well-balanced first and last characters satisfying <code>drop</code> from the string; for instance, <code>strip_balanced ~drop:(function | 'a' | 'x' -&gt; true | _ -&gt; false) &quot;xaabax&quot;</code> returns &quot;aaba&quot;</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-assoc_of_yojson"><a href="#val-assoc_of_yojson" class="anchor"></a><code><span><span class="keyword">val</span> assoc_of_yojson : 
  <span><span class="xref-unresolved">Yojson</span>.Basic.t <span class="arrow">&#45;&gt;</span></span>
  <span>src:string <span class="arrow">&#45;&gt;</span></span>
  <span><span>(string, <span class="xref-unresolved">Yojson</span>.Basic.t)</span> <span class="xref-unresolved">IStdlib</span>.IStd.List.Assoc.t</span></span></code></div><div class="spec-doc"><p>Verify we have a json object (or empty list) and return the corresponding assoc list. Otherwise die with a message including src.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_of_yojson"><a href="#val-string_of_yojson" class="anchor"></a><code><span><span class="keyword">val</span> string_of_yojson : <span><span class="xref-unresolved">Yojson</span>.Basic.t <span class="arrow">&#45;&gt;</span></span> <span>src:string <span class="arrow">&#45;&gt;</span></span> string</span></code></div><div class="spec-doc"><p>Verify we have a json string and return the corresponding ocaml string. Otherwise die with a message including src.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-string_list_of_yojson"><a href="#val-string_list_of_yojson" class="anchor"></a><code><span><span class="keyword">val</span> string_list_of_yojson : <span><span class="xref-unresolved">Yojson</span>.Basic.t <span class="arrow">&#45;&gt;</span></span> <span>src:string <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p>Verify we have a json list of strings and return the corresponding ocaml string list. Otherwise die with a message including src.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-yojson_lookup"><a href="#val-yojson_lookup" class="anchor"></a><code><span><span class="keyword">val</span> yojson_lookup : 
  <span><span><span>(string, <span class="xref-unresolved">Yojson</span>.Basic.t)</span> <span class="xref-unresolved">IStdlib</span>.IStd.List.Assoc.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>src:string <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>(<span><span class="xref-unresolved">Yojson</span>.Basic.t <span class="arrow">&#45;&gt;</span></span> <span>src:string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>default:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Lookup a json value on an assoc list. If not present, returns default. Otherwise returns (f json_value ~src) where src has element name appended. f is typically one of the above _of_yojson functions.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-timeit"><a href="#val-timeit" class="anchor"></a><code><span><span class="keyword">val</span> timeit : <span>f:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> * <span class="xref-unresolved">Mtime</span>.Span.t</span></code></div><div class="spec-doc"><p>Returns the execution time of <code>f</code> together with its result</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-do_in_dir"><a href="#val-do_in_dir" class="anchor"></a><code><span><span class="keyword">val</span> do_in_dir : <span>dir:string <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span>unit <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>executes <code>f</code> after cding into <code>dir</code> and then restores original cwd</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_available_memory_MB"><a href="#val-get_available_memory_MB" class="anchor"></a><code><span><span class="keyword">val</span> get_available_memory_MB : <span>unit <span class="arrow">&#45;&gt;</span></span> <span>int option</span></span></code></div><div class="spec-doc"><p>On Linux systems, return <code>Some x</code> where <code>MemAvailable x</code> is in <code>/proc/meminfo</code>. Returns <code>None</code> in all other cases.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fold_infer_deps"><a href="#val-fold_infer_deps" class="anchor"></a><code><span><span class="keyword">val</span> fold_infer_deps : 
  <span>root:string <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span>init:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-iter_infer_deps"><a href="#val-iter_infer_deps" class="anchor"></a><code><span><span class="keyword">val</span> iter_infer_deps : <span>root:string <span class="arrow">&#45;&gt;</span></span> <span>string <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span>string <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Parse each line of the given <code>infer_deps.txt</code> file (split on tabs, assume 3 elements per line) and run <code>f</code> on the third element. <code>root</code> is used to interpret relative paths in the file.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-inline_argument_files"><a href="#val-inline_argument_files" class="anchor"></a><code><span><span class="keyword">val</span> inline_argument_files : <span><span>string list</span> <span class="arrow">&#45;&gt;</span></span> <span>string list</span></span></code></div><div class="spec-doc"><p>Given a list of arguments return the extended list of arguments where the args in a file have been extracted</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-cpus"><a href="#val-cpus" class="anchor"></a><code><span><span class="keyword">val</span> cpus : int</span></code></div><div class="spec-doc"><p>Number of CPUs as computed by <code>Setcore.numcores</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-zip_fold"><a href="#val-zip_fold" class="anchor"></a><code><span><span class="keyword">val</span> zip_fold : 
  <span>init:<span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span>f:<span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Zip</span>.in_file <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Zip</span>.entry <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span>zip_filename:string <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>fold over each file in the given <code>zip_filename</code>.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_term_dumb"><a href="#val-is_term_dumb" class="anchor"></a><code><span><span class="keyword">val</span> is_term_dumb : <span>unit <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Check if the terminal is &quot;dumb&quot; or otherwise has very limited functionality. For example, Emacs' eshell reports itself as a dumb terminal.</p></div></div></div></body></html>