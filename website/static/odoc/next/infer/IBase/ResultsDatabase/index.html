<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>ResultsDatabase (infer.IBase.ResultsDatabase)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../../index.html">infer</a> &#x00BB; <a href="../index.html">IBase</a> &#x00BB; ResultsDatabase</nav><header class="odoc-preamble"><h1>Module <code><span>IBase.ResultsDatabase</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec value" id="val-schema_hum" class="anchored"><a href="#val-schema_hum" class="anchor"></a><code><span><span class="keyword">val</span> schema_hum : string</span></code></div><div class="spec-doc"><p>some human-readable string describing the tables</p></div></div><div class="odoc-spec"><div class="spec value" id="val-create_tables" class="anchored"><a href="#val-create_tables" class="anchor"></a><code><span><span class="keyword">val</span> create_tables : <span>?prefix:string <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Sqlite3</span>.db <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_database" class="anchored"><a href="#val-get_database" class="anchor"></a><code><span><span class="keyword">val</span> get_database : <span>unit <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sqlite3</span>.db</span></code></div><div class="spec-doc"><p>The results database. You should always use this function to access the database, as the connection to it may change during the execution (see <code>new_database_connection</code>).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-new_database_connection" class="anchored"><a href="#val-new_database_connection" class="anchor"></a><code><span><span class="keyword">val</span> new_database_connection : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Closes the previous connection to the database (if any), and opens a new one. Needed after calls to fork(2).</p></div></div><div class="odoc-spec"><div class="spec value" id="val-db_close" class="anchored"><a href="#val-db_close" class="anchor"></a><code><span><span class="keyword">val</span> db_close : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>close the current connection to the database</p></div></div><div class="odoc-spec"><div class="spec value" id="val-create_db" class="anchored"><a href="#val-create_db" class="anchor"></a><code><span><span class="keyword">val</span> create_db : <span>unit <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>create the database file and initialize all the necessary tables</p></div></div><div class="odoc-spec"><div class="spec type" id="type-registered_stmt" class="anchored"><a href="#type-registered_stmt" class="anchor"></a><code><span><span class="keyword">type</span> registered_stmt</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-register_statement" class="anchored"><a href="#val-register_statement" class="anchor"></a><code><span><span class="keyword">val</span> register_statement : <span><span><span>(<span class="type-var">'a</span>, unit, string, <a href="#type-registered_stmt">registered_stmt</a>)</span> <span class="xref-unresolved">Base</span>.format4</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Return a function unit -&gt; Sqlite3.stmt that can be called (once the DB has been initialized) to get the prepared statement corresponding to the current DB connection. Use this to prepare statements only once per DB connection.</p><p>In particular, clients of this need not worry about calling <code>Sqlite3.finalize</code> on the returned statement, or about generating new statements when the connection to the DB changes: this is all handled internally.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-with_registered_statement" class="anchored"><a href="#val-with_registered_statement" class="anchor"></a><code><span><span class="keyword">val</span> with_registered_statement : <span><a href="#type-registered_stmt">registered_stmt</a> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><span class="xref-unresolved">Sqlite3</span>.db <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Sqlite3</span>.stmt <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div></div></body></html>