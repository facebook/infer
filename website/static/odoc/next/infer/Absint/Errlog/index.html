<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Errlog (infer.Absint.Errlog)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">infer</a> &#x00BB; <a href="../index.html">Absint</a> &#x00BB; Errlog</nav><header class="odoc-preamble"><h1>Module <code><span>Absint.Errlog</span></code></h1><p>Module for error logs.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-node_tag" class="anchored"><a href="#type-node_tag" class="anchor"></a><code><span><span class="keyword">type</span> node_tag</span><span> = </span></code><table><tr id="type-node_tag.Condition" class="anchored"><td class="def variant constructor"><a href="#type-node_tag.Condition" class="anchor"></a><code><span>| </span><span><span class="constructor">Condition</span> <span class="keyword">of</span> bool</span></code></td></tr><tr id="type-node_tag.Exception" class="anchored"><td class="def variant constructor"><a href="#type-node_tag.Exception" class="anchor"></a><code><span>| </span><span><span class="constructor">Exception</span> <span class="keyword">of</span> <a href="../../IR/Typ/index.html#type-name">IR.Typ.name</a></span></code></td></tr><tr id="type-node_tag.Procedure_start" class="anchored"><td class="def variant constructor"><a href="#type-node_tag.Procedure_start" class="anchor"></a><code><span>| </span><span><span class="constructor">Procedure_start</span> <span class="keyword">of</span> <a href="../../IR/Procname/index.html#type-t">IR.Procname.t</a></span></code></td></tr><tr id="type-node_tag.Procedure_end" class="anchored"><td class="def variant constructor"><a href="#type-node_tag.Procedure_end" class="anchor"></a><code><span>| </span><span><span class="constructor">Procedure_end</span> <span class="keyword">of</span> <a href="../../IR/Procname/index.html#type-t">IR.Procname.t</a></span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-loc_trace_elem" class="anchored"><a href="#type-loc_trace_elem" class="anchor"></a><code><span><span class="keyword">type</span> loc_trace_elem</span><span> = <span class="keyword">private</span> </span><span>{</span></code><table><tr id="type-loc_trace_elem.lt_level" class="anchored"><td class="def record field"><a href="#type-loc_trace_elem.lt_level" class="anchor"></a><code><span>lt_level : int;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>nesting level of procedure calls</p><span class="comment-delim">*)</span></td></tr><tr id="type-loc_trace_elem.lt_loc" class="anchored"><td class="def record field"><a href="#type-loc_trace_elem.lt_loc" class="anchor"></a><code><span>lt_loc : <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>source location at the current step in the trace</p><span class="comment-delim">*)</span></td></tr><tr id="type-loc_trace_elem.lt_description" class="anchored"><td class="def record field"><a href="#type-loc_trace_elem.lt_description" class="anchor"></a><code><span>lt_description : string;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>description of the current step in the trace</p><span class="comment-delim">*)</span></td></tr><tr id="type-loc_trace_elem.lt_node_tags" class="anchored"><td class="def record field"><a href="#type-loc_trace_elem.lt_node_tags" class="anchor"></a><code><span>lt_node_tags : <span><a href="#type-node_tag">node_tag</a> list</span>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>tags describing the node at the current location</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Element of a loc trace</p></div></div><div class="odoc-spec"><div class="spec value" id="val-make_trace_element" class="anchored"><a href="#val-make_trace_element" class="anchor"></a><code><span><span class="keyword">val</span> make_trace_element : 
  <span>int <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>string <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-node_tag">node_tag</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-loc_trace_elem">loc_trace_elem</a></span></code></div><div class="spec-doc"><p>build a loc_trace_elem from its constituents (unambiguously identified by their types).</p></div></div><div class="odoc-spec"><div class="spec type" id="type-loc_trace" class="anchored"><a href="#type-loc_trace" class="anchor"></a><code><span><span class="keyword">type</span> loc_trace</span><span> = <span><a href="#type-loc_trace_elem">loc_trace_elem</a> list</span></span></code></div><div class="spec-doc"><p>Trace of locations</p></div></div><div class="odoc-spec"><div class="spec value" id="val-concat_traces" class="anchored"><a href="#val-concat_traces" class="anchor"></a><code><span><span class="keyword">val</span> concat_traces : <span><span><span>(string * <a href="#type-loc_trace">loc_trace</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-loc_trace">loc_trace</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-compute_local_exception_line" class="anchored"><a href="#val-compute_local_exception_line" class="anchor"></a><code><span><span class="keyword">val</span> compute_local_exception_line : <span><a href="#type-loc_trace">loc_trace</a> <span class="arrow">&#45;&gt;</span></span> <span>int option</span></span></code></div><div class="spec-doc"><p>Look at all the trace steps and find those that are arising any exception, then bind them to the closest step at level 0. This extra information adds value to the report itself, and may avoid digging into the trace to understand the cause of the report.</p></div></div><div class="odoc-spec"><div class="spec type" id="type-node" class="anchored"><a href="#type-node" class="anchor"></a><code><span><span class="keyword">type</span> node</span><span> = </span></code><table><tr id="type-node.UnknownNode" class="anchored"><td class="def variant constructor"><a href="#type-node.UnknownNode" class="anchor"></a><code><span>| </span><span><span class="constructor">UnknownNode</span></span></code></td></tr><tr id="type-node.FrontendNode" class="anchored"><td class="def variant constructor"><a href="#type-node.FrontendNode" class="anchor"></a><code><span>| </span><span><span class="constructor">FrontendNode</span> <span class="keyword">of</span> </span><span>{</span></code><table><tr id="type-node.node_key" class="anchored"><td class="def record field"><a href="#type-node.node_key" class="anchor"></a><code><span>node_key : <a href="../../IR/Procdesc/NodeKey/index.html#type-t">IR.Procdesc.NodeKey.t</a>;</span></code></td></tr></table><code><span>}</span></code></td></tr><tr id="type-node.BackendNode" class="anchored"><td class="def variant constructor"><a href="#type-node.BackendNode" class="anchor"></a><code><span>| </span><span><span class="constructor">BackendNode</span> <span class="keyword">of</span> </span><span>{</span></code><table><tr id="type-node.node" class="anchored"><td class="def record field"><a href="#type-node.node" class="anchor"></a><code><span>node : <a href="../../IR/Procdesc/Node/index.html#type-t">IR.Procdesc.Node.t</a>;</span></code></td></tr></table><code><span>}</span></code></td></tr></table></div></div><div class="odoc-spec"><div class="spec type" id="type-err_key" class="anchored"><a href="#type-err_key" class="anchor"></a><code><span><span class="keyword">type</span> err_key</span><span> = <span class="keyword">private</span> </span><span>{</span></code><table><tr id="type-err_key.severity" class="anchored"><td class="def record field"><a href="#type-err_key.severity" class="anchor"></a><code><span>severity : <a href="../../IBase/IssueType/index.html#type-severity">IBase.IssueType.severity</a>;</span></code></td></tr><tr id="type-err_key.issue_type" class="anchored"><td class="def record field"><a href="#type-err_key.issue_type" class="anchor"></a><code><span>issue_type : <a href="../../IBase/IssueType/index.html#type-t">IBase.IssueType.t</a>;</span></code></td></tr><tr id="type-err_key.err_desc" class="anchored"><td class="def record field"><a href="#type-err_key.err_desc" class="anchor"></a><code><span>err_desc : <a href="../Localise/index.html#type-error_desc">Localise.error_desc</a>;</span></code></td></tr></table><code><span>}</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_err_key" class="anchored"><a href="#val-compare_err_key" class="anchor"></a><code><span><span class="keyword">val</span> compare_err_key : <span><a href="#type-err_key">err_key</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-err_key">err_key</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-err_data" class="anchored"><a href="#type-err_data" class="anchor"></a><code><span><span class="keyword">type</span> err_data</span><span> = <span class="keyword">private</span> </span><span>{</span></code><table><tr id="type-err_data.node_id" class="anchored"><td class="def record field"><a href="#type-err_data.node_id" class="anchor"></a><code><span>node_id : int;</span></code></td></tr><tr id="type-err_data.node_key" class="anchored"><td class="def record field"><a href="#type-err_data.node_key" class="anchor"></a><code><span>node_key : <span><a href="../../IR/Procdesc/NodeKey/index.html#type-t">IR.Procdesc.NodeKey.t</a> option</span>;</span></code></td></tr><tr id="type-err_data.session" class="anchored"><td class="def record field"><a href="#type-err_data.session" class="anchor"></a><code><span>session : int;</span></code></td></tr><tr id="type-err_data.loc" class="anchored"><td class="def record field"><a href="#type-err_data.loc" class="anchor"></a><code><span>loc : <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a>;</span></code></td></tr><tr id="type-err_data.loc_in_ml_source" class="anchored"><td class="def record field"><a href="#type-err_data.loc_in_ml_source" class="anchor"></a><code><span>loc_in_ml_source : <span><a href="../../IBase/Logging/index.html#type-ocaml_pos">IBase.Logging.ocaml_pos</a> option</span>;</span></code></td></tr><tr id="type-err_data.loc_trace" class="anchored"><td class="def record field"><a href="#type-err_data.loc_trace" class="anchor"></a><code><span>loc_trace : <a href="#type-loc_trace">loc_trace</a>;</span></code></td></tr><tr id="type-err_data.visibility" class="anchored"><td class="def record field"><a href="#type-err_data.visibility" class="anchor"></a><code><span>visibility : <a href="../../IBase/IssueType/index.html#type-visibility">IBase.IssueType.visibility</a>;</span></code></td></tr><tr id="type-err_data.access" class="anchored"><td class="def record field"><a href="#type-err_data.access" class="anchor"></a><code><span>access : <span>string option</span>;</span></code></td></tr><tr id="type-err_data.extras" class="anchored"><td class="def record field"><a href="#type-err_data.extras" class="anchor"></a><code><span>extras : <span><a href="../../ATDGenerated/Jsonbug_t/index.html#type-extra">ATDGenerated.Jsonbug_t.extra</a> option</span>;</span></code></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>Data associated to a specific error</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_err_data" class="anchored"><a href="#val-compare_err_data" class="anchor"></a><code><span><span class="keyword">val</span> compare_err_data : <span><a href="#type-err_data">err_data</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-err_data">err_data</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>Type of the error log</p></div></div><div class="odoc-spec"><div class="spec value" id="val-empty" class="anchored"><a href="#val-empty" class="anchor"></a><code><span><span class="keyword">val</span> empty : <span>unit <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Empty error log</p></div></div><div class="odoc-spec"><div class="spec type" id="type-iter_fun" class="anchored"><a href="#type-iter_fun" class="anchor"></a><code><span><span class="keyword">type</span> iter_fun</span><span> = <span><a href="#type-err_key">err_key</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-err_data">err_data</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>type of the function to be passed to iter</p></div></div><div class="odoc-spec"><div class="spec value" id="val-iter" class="anchored"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><a href="#type-iter_fun">iter_fun</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Apply f to nodes and error names</p></div></div><div class="odoc-spec"><div class="spec value" id="val-fold" class="anchored"><a href="#val-fold" class="anchor"></a><code><span><span class="keyword">val</span> fold : <span><span>( <span><a href="#type-err_key">err_key</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-err_data">err_data</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_loc_trace" class="anchored"><a href="#val-pp_loc_trace" class="anchor"></a><code><span><span class="keyword">val</span> pp_loc_trace : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-loc_trace">loc_trace</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_errors" class="anchored"><a href="#val-pp_errors" class="anchor"></a><code><span><span class="keyword">val</span> pp_errors : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Print errors from error log</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_warnings" class="anchored"><a href="#val-pp_warnings" class="anchor"></a><code><span><span class="keyword">val</span> pp_warnings : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Print warnings from error log</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_html" class="anchored"><a href="#val-pp_html" class="anchor"></a><code><span><span class="keyword">val</span> pp_html : 
  <span><a href="../../IBase/SourceFile/index.html#type-t">IBase.SourceFile.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../IBase/DB/Results_dir/index.html#type-path">IBase.DB.Results_dir.path</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p>Print an error log in html format</p></div></div><div class="odoc-spec"><div class="spec value" id="val-update" class="anchored"><a href="#val-update" class="anchor"></a><code><span><span class="keyword">val</span> update : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Update an old error log with a new one</p></div></div><div class="odoc-spec"><div class="spec value" id="val-log_issue" class="anchored"><a href="#val-log_issue" class="anchor"></a><code><span><span class="keyword">val</span> log_issue : 
  <span>?severity_override:<a href="../../IBase/IssueType/index.html#type-severity">IBase.IssueType.severity</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>loc:<a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>node:<a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span>
  <span>session:int <span class="arrow">&#45;&gt;</span></span>
  <span>ltr:<a href="#type-loc_trace">loc_trace</a> <span class="arrow">&#45;&gt;</span></span>
  <span>access:<span>string option</span> <span class="arrow">&#45;&gt;</span></span>
  <span>extras:<span><a href="../../ATDGenerated/Jsonbug_t/index.html#type-extra">ATDGenerated.Jsonbug_t.extra</a> option</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../IBase/Checker/index.html#type-t">IBase.Checker.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../IssueToReport/index.html#type-t">IssueToReport.t</a> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div></div></div></body></html>