<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Cell (infer.Checkers.LineageShape.Cell)</title><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">infer</a> &#x00BB; <a href="../../index.html">Checkers</a> &#x00BB; <a href="../index.html">LineageShape</a> &#x00BB; Cell</nav><header class="odoc-preamble"><h1>Module <code><span>LineageShape.Cell</span></code></h1><p>Cells correspond to variable fields for which no subfield will be considered by the analysis, either because they semantically have none, or because the abstract domain decides that considering them would lead to too deep or too wide field structures.</p><p>A field path of a cell:</p><ul><li>Cannot have a length greater than <a href="../../../IBase/Config/index.html#val-lineage_field_depth"><code>IBase.Config.lineage_field_depth</code></a>. For instance, if that limit is <code>2</code>, the only cell under both <code>X#foo#bar#baz</code> and <code>X#foo#bar#ham</code> will be <code>X#foo#bar</code>.</li></ul><ul><li>Cannot cross a field whose field table is wider than <a href="../../../IBase/Config/index.html#val-lineage_field_width"><code>IBase.Config.lineage_field_width</code></a>. For instance, of the variable <code>X</code> has a huge number of fields, the only cell under <code>X#field1</code> will be <code>X</code> itself.</li></ul><ul><li>Cannot go twice on same-typed fields if <a href="../../../IBase/Config/index.html#val-lineage_prevent_cycles"><code>IBase.Config.lineage_prevent_cycles</code></a> is set. For instance, if <code>X</code> has fields <code>X#head</code> and <code>X#tail</code>, and <code>X#tail</code> has the same shape as <code>X</code>, then the cells under <code>X</code> will be <code>X#head</code> and <code>X#tail</code>.</li></ul><p>If one of these conditions happens, then the cell field path will be truncated before reaching a &quot;scalar&quot; field and the cell will be &quot;abstract&quot;.</p><p>To make sure that the aforementioned properties hold, one cannot construct cells directly, but should access them through the <a href="../Summary/index.html#val-fold_cells"><code>Summary.fold_cells</code></a> and <code>Summary</code>.fold_cell_pairs functions.</p><p>The lineage graph is built on cells.</p></header><div class="odoc-content"><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">Ppx_compare_lib</span>.Comparable.S <span class="keyword">with</span> <span><span class="keyword">type</span> <span class="xref-unresolved">t</span> := <span class="xref-unresolved">t</span></span></span></code></summary><div class="odoc-spec"><div class="spec value anchored" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><a href="#type-t">t</a> <span class="xref-unresolved">Base__Ppx_compare_lib</span>.compare</span></span></code></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">Ppx_compare_lib</span>.Equal.S <span class="keyword">with</span> <span><span class="keyword">type</span> <span class="xref-unresolved">t</span> := <span class="xref-unresolved">t</span></span></span></code></summary><div class="odoc-spec"><div class="spec value anchored" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><a href="#type-t">t</a> <span class="xref-unresolved">Base__Ppx_compare_lib</span>.equal</span></span></code></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">Sexplib0</span>.Sexpable.S <span class="keyword">with</span> <span><span class="keyword">type</span> <span class="xref-unresolved">t</span> := <span class="xref-unresolved">t</span></span></span></code></summary><div class="odoc-spec"><div class="spec value anchored" id="val-t_of_sexp"><a href="#val-t_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> t_of_sexp : <span><span class="xref-unresolved">Sexplib0__</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sexp_of_t"><a href="#val-sexp_of_t" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_t : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0__</span>.Sexp.t</span></code></div></div></details></div><div class="odoc-spec"><div class="spec value anchored" id="val-yojson_of_t"><a href="#val-yojson_of_t" class="anchor"></a><code><span><span class="keyword">val</span> yojson_of_t : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Ppx_yojson_conv_lib</span>.Yojson.Safe.t</span></code></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">Ppx_hash_lib</span>.Hashable.S <span class="keyword">with</span> <span><span class="keyword">type</span> <span class="xref-unresolved">t</span> := <span class="xref-unresolved">t</span></span></span></code></summary><div class="odoc-spec"><div class="spec value anchored" id="val-hash_fold_t"><a href="#val-hash_fold_t" class="anchor"></a><code><span><span class="keyword">val</span> hash_fold_t : <span><a href="#type-t">t</a> <span class="xref-unresolved">Base__Ppx_hash_lib</span>.hash_fold</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-hash"><a href="#val-hash" class="anchor"></a><code><span><span class="keyword">val</span> hash : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Base__Ppx_hash_lib</span>.Std.Hash.hash_value</span></code></div></div></details></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span><a href="#type-t">t</a> <span class="xref-unresolved">Fmt</span>.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-var"><a href="#val-var" class="anchor"></a><code><span><span class="keyword">val</span> var : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../../IR/Var/index.html#type-t">IR.Var.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-field_path"><a href="#val-field_path" class="anchor"></a><code><span><span class="keyword">val</span> field_path : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../FieldPath/index.html#type-t">FieldPath.t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_abstract"><a href="#val-is_abstract" class="anchor"></a><code><span><span class="keyword">val</span> is_abstract : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-var_appears_in_source_code"><a href="#val-var_appears_in_source_code" class="anchor"></a><code><span><span class="keyword">val</span> var_appears_in_source_code : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-path_from_origin"><a href="#val-path_from_origin" class="anchor"></a><code><span><span class="keyword">val</span> path_from_origin : <span>origin:<a href="../VarPath/index.html#type-t">VarPath.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../FieldPath/index.html#type-t">FieldPath.t</a></span></code></div><div class="spec-doc"><p>Assuming the cell represents a component of the origin variable path, returns the sub-path subscriptable from this origin path to reach the cell component.</p><p>If the cell is larger than the origin path (eg. because the origin path is longer than the limit and the cells groups it with other paths), returns an empty path. The rationale is that the result of this function can be seen as the subpath which, when extracted from the origin, will cover all the components of that origin stored in the cell. If the cell is larger than the origin then all the components of the origin are in the cell.</p><p>Raises if the cell and the origin path are incompatible (eg. their variables are different).</p><p>Examples assuming a depth limit of 3:</p><ul><li>origin: X#a ; cell: X#a#b#c ; result : #b#c</li><li>origin: X#a#b#c ; cell : X#a#b#c ; result : empty</li><li>origin: X#a#b#c ; cell : X#a#b#d ; result : raises</li><li>origin: X#a#b#c ; cell : X#a#b#d ; result : raises</li><li>origin: X#a#b#c#d ; cell : X#a#b#c ; result : empty</li></ul></div></div></div></body></html>