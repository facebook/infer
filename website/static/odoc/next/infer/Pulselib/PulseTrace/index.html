<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>PulseTrace (infer.Pulselib.PulseTrace)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">infer</a> &#x00BB; <a href="../index.html">Pulselib</a> &#x00BB; PulseTrace</nav><header class="odoc-preamble"><h1>Module <code><span>Pulselib.PulseTrace</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module" id="module-F" class="anchored"><a href="#module-F" class="anchor"></a><code><span><span class="keyword">module</span> F</span><span> = <span class="xref-unresolved">Stdlib</span>.Format</span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-CallEvent" class="anchored"><a href="#module-CallEvent" class="anchor"></a><code><span><span class="keyword">module</span> CallEvent</span><span> = <a href="../PulseCallEvent/index.html">PulseCallEvent</a></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-ValueHistory" class="anchored"><a href="#module-ValueHistory" class="anchor"></a><code><span><span class="keyword">module</span> ValueHistory</span><span> = <a href="../PulseValueHistory/index.html">PulseValueHistory</a></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = </span></code><table><tr id="type-t.Immediate" class="anchored"><td class="def variant constructor"><a href="#type-t.Immediate" class="anchor"></a><code><span>| </span><span><span class="constructor">Immediate</span> <span class="keyword">of</span> </span><span>{</span></code><table><tr id="type-t.location" class="anchored"><td class="def record field"><a href="#type-t.location" class="anchor"></a><code><span>location : <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a>;</span></code></td></tr><tr id="type-t.history" class="anchored"><td class="def record field"><a href="#type-t.history" class="anchor"></a><code><span>history : <a href="../PulseValueHistory/index.html#type-t">ValueHistory.t</a>;</span></code></td></tr></table><code><span>}</span></code></td></tr><tr id="type-t.ViaCall" class="anchored"><td class="def variant constructor"><a href="#type-t.ViaCall" class="anchor"></a><code><span>| </span><span><span class="constructor">ViaCall</span> <span class="keyword">of</span> </span><span>{</span></code><table><tr id="type-t.f" class="anchored"><td class="def record field"><a href="#type-t.f" class="anchor"></a><code><span>f : <a href="../PulseCallEvent/index.html#type-t">CallEvent.t</a>;</span></code></td></tr><tr id="type-t.location" class="anchored"><td class="def record field"><a href="#type-t.location" class="anchor"></a><code><span>location : <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>location of the call event</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.history" class="anchored"><td class="def record field"><a href="#type-t.history" class="anchor"></a><code><span>history : <a href="../PulseValueHistory/index.html#type-t">ValueHistory.t</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>the call involves a value with this prior history</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.in_call" class="anchored"><td class="def record field"><a href="#type-t.in_call" class="anchor"></a><code><span>in_call : <a href="#type-t">t</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>last step of the trace is in a call to <code>f</code> made at <code>location</code></p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></td></tr></table></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">Ppx_compare_lib</span>.Comparable.S <span class="keyword">with</span> <span><span class="keyword">type</span> <span class="xref-unresolved">t</span> := <span class="xref-unresolved">t</span></span></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-compare" class="anchored"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><a href="#type-t">t</a> <span class="xref-unresolved">Base__Ppx_compare_lib</span>.compare</span></span></code></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">Ppx_compare_lib</span>.Equal.S <span class="keyword">with</span> <span><span class="keyword">type</span> <span class="xref-unresolved">t</span> := <span class="xref-unresolved">t</span></span></span></code></summary><div class="odoc-spec"><div class="spec value" id="val-equal" class="anchored"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><a href="#type-t">t</a> <span class="xref-unresolved">Base__Ppx_compare_lib</span>.equal</span></span></code></div></div></details></div><div class="odoc-spec"><div class="spec value" id="val-pp" class="anchored"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span>pp_immediate:<span>( <span><span class="xref-unresolved">F</span>.formatter <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">F</span>.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-get_outer_location" class="anchored"><a href="#val-get_outer_location" class="anchor"></a><code><span><span class="keyword">val</span> get_outer_location : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a></span></code></div><div class="spec-doc"><p>skip histories and go straight to the where the action is: either the action itself or the call that leads to the action</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_start_location" class="anchored"><a href="#val-get_start_location" class="anchor"></a><code><span><span class="keyword">val</span> get_start_location : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a></span></code></div><div class="spec-doc"><p>initial step in the history if not empty, or else same as <a href="#val-get_outer_location"><code>get_outer_location</code></a></p></div></div><div class="odoc-spec"><div class="spec value" id="val-add_to_errlog" class="anchored"><a href="#val-add_to_errlog" class="anchor"></a><code><span><span class="keyword">val</span> add_to_errlog : 
  <span>?include_value_history:bool <span class="arrow">&#45;&gt;</span></span>
  <span>nesting:int <span class="arrow">&#45;&gt;</span></span>
  <span>pp_immediate:<span>( <span><span class="xref-unresolved">F</span>.formatter <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../Absint/Errlog/index.html#type-loc_trace_elem">Absint.Errlog.loc_trace_elem</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Absint/Errlog/index.html#type-loc_trace_elem">Absint.Errlog.loc_trace_elem</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-synchronous_add_to_errlog" class="anchored"><a href="#val-synchronous_add_to_errlog" class="anchor"></a><code><span><span class="keyword">val</span> synchronous_add_to_errlog : 
  <span>nesting:int <span class="arrow">&#45;&gt;</span></span>
  <span>pp_immediate:<span>( <span><span class="xref-unresolved">F</span>.formatter <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../Absint/Errlog/index.html#type-loc_trace_elem">Absint.Errlog.loc_trace_elem</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Absint/Errlog/index.html#type-loc_trace_elem">Absint.Errlog.loc_trace_elem</a> list</span></span></code></div><div class="spec-doc"><p><code>synchronous_add_to_errlog</code> adds a list of the traces to the errlog in the given order while grouping traces that take place at the same location to reduce deduplication and ensure events happening together are identifiable as such. E.g. if two traces start with a <code>ViaCall</code> and they happen at the same location, then that call will only appear once and the rest of those traces will then be added synchronously as well</p></div></div><div class="odoc-spec"><div class="spec value" id="val-find_map" class="anchored"><a href="#val-find_map" class="anchor"></a><code><span><span class="keyword">val</span> find_map : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>( <span><a href="../PulseValueHistory/index.html#type-event">ValueHistory.event</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span> )</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p><code>find_map</code> applied to history events; does not look into contextual events</p></div></div><div class="odoc-spec"><div class="spec value" id="val-has_invalidation" class="anchored"><a href="#val-has_invalidation" class="anchor"></a><code><span><span class="keyword">val</span> has_invalidation : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>whether the main part of the trace contains an invalidation event</p></div></div></div></body></html>