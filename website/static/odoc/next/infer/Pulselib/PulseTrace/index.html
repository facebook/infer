<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>PulseTrace (infer.Pulselib.PulseTrace)</title><link rel="stylesheet" href="../../../_odoc_support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../_odoc_support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">infer</a> &#x00BB; <a href="../index.html">Pulselib</a> &#x00BB; PulseTrace</nav><header class="odoc-preamble"><h1>Module <code><span>Pulselib.PulseTrace</span></code></h1></header><div class="odoc-content"><div class="odoc-spec"><div class="spec module anchored" id="module-F"><a href="#module-F" class="anchor"></a><code><span><span class="keyword">module</span> F</span><span> = <span class="xref-unresolved">Stdlib</span>.Format</span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-CallEvent"><a href="#module-CallEvent" class="anchor"></a><code><span><span class="keyword">module</span> CallEvent</span><span> = <a href="../PulseCallEvent/index.html">PulseCallEvent</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-ValueHistory"><a href="#module-ValueHistory" class="anchor"></a><code><span><span class="keyword">module</span> ValueHistory</span><span> = <a href="../PulseValueHistory/index.html">PulseValueHistory</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-CellId"><a href="#module-CellId" class="anchor"></a><code><span><span class="keyword">module</span> CellId</span><span> = <a href="../PulseValueHistory/CellId/index.html">PulseValueHistory.CellId</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = </span></code><ol><li id="type-t.Immediate" class="def variant constructor anchored"><a href="#type-t.Immediate" class="anchor"></a><code><span>| </span><span><span class="constructor">Immediate</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="type-t.location" class="def record field anchored"><a href="#type-t.location" class="anchor"></a><code><span>location : <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a>;</span></code></li><li id="type-t.history" class="def record field anchored"><a href="#type-t.history" class="anchor"></a><code><span>history : <a href="../PulseValueHistory/index.html#type-t">ValueHistory.t</a>;</span></code></li></ol><code><span>}</span></code></li><li id="type-t.ViaCall" class="def variant constructor anchored"><a href="#type-t.ViaCall" class="anchor"></a><code><span>| </span><span><span class="constructor">ViaCall</span> <span class="keyword">of</span> </span><span>{</span></code><ol><li id="type-t.f" class="def record field anchored"><a href="#type-t.f" class="anchor"></a><code><span>f : <a href="../PulseCallEvent/index.html#type-t">CallEvent.t</a>;</span></code></li><li id="type-t.location" class="def record field anchored"><a href="#type-t.location" class="anchor"></a><code><span>location : <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>location of the call event</p><span class="comment-delim">*)</span></div></li><li id="type-t.history" class="def record field anchored"><a href="#type-t.history" class="anchor"></a><code><span>history : <a href="../PulseValueHistory/index.html#type-t">ValueHistory.t</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>the call involves a value with this prior history</p><span class="comment-delim">*)</span></div></li><li id="type-t.in_call" class="def record field anchored"><a href="#type-t.in_call" class="anchor"></a><code><span>in_call : <a href="#type-t">t</a>;</span></code><div class="def-doc"><span class="comment-delim">(*</span><p>last step of the trace is in a call to <code>f</code> made at <code>location</code></p><span class="comment-delim">*)</span></div></li></ol><code><span>}</span></code></li></ol></div></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">Ppx_compare_lib</span>.Comparable.S <span class="keyword">with</span> <span><span class="keyword">type</span> <span class="xref-unresolved">t</span> := <span class="xref-unresolved">t</span></span></span></code></summary><div class="odoc-spec"><div class="spec value anchored" id="val-compare"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><a href="#type-t">t</a> <span class="xref-unresolved">Base__Ppx_compare_lib</span>.compare</span></span></code></div></div></details></div><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <span class="xref-unresolved">Ppx_compare_lib</span>.Equal.S <span class="keyword">with</span> <span><span class="keyword">type</span> <span class="xref-unresolved">t</span> := <span class="xref-unresolved">t</span></span></span></code></summary><div class="odoc-spec"><div class="spec value anchored" id="val-equal"><a href="#val-equal" class="anchor"></a><code><span><span class="keyword">val</span> equal : <span><a href="#type-t">t</a> <span class="xref-unresolved">Base__Ppx_compare_lib</span>.equal</span></span></code></div></div></details></div><div class="odoc-spec"><div class="spec module anchored" id="module-Set"><a href="#module-Set" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Set/index.html">Set</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span>pp_immediate:<span>(<span><span class="xref-unresolved">F</span>.formatter <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">F</span>.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_outer_location"><a href="#val-get_outer_location" class="anchor"></a><code><span><span class="keyword">val</span> get_outer_location : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a></span></code></div><div class="spec-doc"><p>skip histories and go straight to the where the action is: either the action itself or the call that leads to the action</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_start_location"><a href="#val-get_start_location" class="anchor"></a><code><span><span class="keyword">val</span> get_start_location : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a></span></code></div><div class="spec-doc"><p>initial step in the history if not empty, or else same as <a href="#val-get_outer_location"><code>get_outer_location</code></a></p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_call"><a href="#val-add_call" class="anchor"></a><code><span><span class="keyword">val</span> add_call : 
  <span><a href="../PulseCallEvent/index.html#type-t">CallEvent.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../IBase/Location/index.html#type-t">IBase.Location.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../PulseValueHistory/index.html#type-t">ValueHistory.t</a> <span class="xref-unresolved">CellId</span>.Map.t</span> <span class="arrow">&#45;&gt;</span></span>
  <span>default_caller_history:<a href="../PulseValueHistory/index.html#type-t">ValueHistory.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_to_errlog"><a href="#val-add_to_errlog" class="anchor"></a><code><span><span class="keyword">val</span> add_to_errlog : 
  <span>?include_value_history:bool <span class="arrow">&#45;&gt;</span></span>
  <span>?include_taint_events:bool <span class="arrow">&#45;&gt;</span></span>
  <span>nesting:int <span class="arrow">&#45;&gt;</span></span>
  <span>pp_immediate:<span>(<span><span class="xref-unresolved">F</span>.formatter <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../Absint/Errlog/index.html#type-loc_trace_elem">Absint.Errlog.loc_trace_elem</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Absint/Errlog/index.html#type-loc_trace_elem">Absint.Errlog.loc_trace_elem</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-synchronous_add_to_errlog"><a href="#val-synchronous_add_to_errlog" class="anchor"></a><code><span><span class="keyword">val</span> synchronous_add_to_errlog : 
  <span>nesting:int <span class="arrow">&#45;&gt;</span></span>
  <span>pp_immediate:<span>(<span><span class="xref-unresolved">F</span>.formatter <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="#type-t">t</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span><a href="../../Absint/Errlog/index.html#type-loc_trace_elem">Absint.Errlog.loc_trace_elem</a> list</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../Absint/Errlog/index.html#type-loc_trace_elem">Absint.Errlog.loc_trace_elem</a> list</span></span></code></div><div class="spec-doc"><p><code>synchronous_add_to_errlog</code> adds a list of the traces to the errlog in the given order while grouping traces that take place at the same location to reduce deduplication and ensure events happening together are identifiable as such. E.g. if two traces start with a <code>ViaCall</code> and they happen at the same location, then that call will only appear once and the rest of those traces will then be added synchronously as well</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-find_map_last_main"><a href="#val-find_map_last_main" class="anchor"></a><code><span><span class="keyword">val</span> find_map_last_main : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><a href="../PulseValueHistory/index.html#type-event">ValueHistory.event</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span></span></code></div><div class="spec-doc"><p><code>find_map</code> applied to history events in reverse order; does not look into contextual events</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-exists_main"><a href="#val-exists_main" class="anchor"></a><code><span><span class="keyword">val</span> exists_main : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><a href="../PulseValueHistory/index.html#type-event">ValueHistory.event</a> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>whether the trace contains an event satisfying <code>f</code>; does not look into contextual events</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_trace_until"><a href="#val-get_trace_until" class="anchor"></a><code><span><span class="keyword">val</span> get_trace_until : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span>f:<span>(<span><a href="../PulseValueHistory/index.html#type-event">ValueHistory.event</a> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> option</span></span></code></div><div class="spec-doc"><p>build a sub-trace leading to the first element of the trace satisfying <code>f</code></p></div></div></div></body></html>