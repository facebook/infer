<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Prop (infer.Biabduction.Prop)</title><link rel="stylesheet" href="../../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.0.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../index.html">infer</a> &#x00BB; <a href="../index.html">Biabduction</a> &#x00BB; Prop</nav><header class="odoc-preamble"><h1>Module <code><span>Biabduction.Prop</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#basic-functions-for-propositions">Basic Functions for propositions</a></li><li><a href="#normalization">Normalization</a></li><li><a href="#compaction">Compaction</a></li><li><a href="#queries-about-propositions">Queries about propositions</a></li><li><a href="#functions-for-changing-and-generating-propositions">Functions for changing and generating propositions</a></li><li><a href="#functions-for-existentially-quantifying-and-unquantifying-variables">Functions for existentially quantifying and unquantifying variables</a></li><li><a href="#prop-iterators">Prop iterators</a></li><li><a href="#internal-modules">Internal modules</a></li></ul></nav><div class="odoc-content"><p>Functions for Propositions (i.e., Symbolic Heaps)</p><div class="odoc-spec"><div class="spec type" id="type-normal" class="anchored"><a href="#type-normal" class="anchor"></a><code><span><span class="keyword">type</span> normal</span></code></div><div class="spec-doc"><p>kind for normal props, i.e. normalized</p></div></div><div class="odoc-spec"><div class="spec type" id="type-exposed" class="anchored"><a href="#type-exposed" class="anchor"></a><code><span><span class="keyword">type</span> exposed</span></code></div><div class="spec-doc"><p>kind for exposed props</p></div></div><div class="odoc-spec"><div class="spec type" id="type-sorted" class="anchored"><a href="#type-sorted" class="anchor"></a><code><span><span class="keyword">type</span> sorted</span></code></div><div class="spec-doc"><p>kind for sorted props</p></div></div><p>Proposition.</p><div class="odoc-spec"><div class="spec type" id="type-pi" class="anchored"><a href="#type-pi" class="anchor"></a><code><span><span class="keyword">type</span> pi</span><span> = <span><a href="../Predicates/index.html#type-atom">Predicates.atom</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-sigma" class="anchored"><a href="#type-sigma" class="anchor"></a><code><span><span class="keyword">type</span> sigma</span><span> = <span><a href="../Predicates/index.html#type-hpred">Predicates.hpred</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a t</span></span><span> = <span class="keyword">private</span> </span><span>{</span></code><table><tr id="type-t.sigma" class="anchored"><td class="def record field"><a href="#type-t.sigma" class="anchor"></a><code><span>sigma : <a href="#type-sigma">sigma</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>spatial part</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.sub" class="anchored"><td class="def record field"><a href="#type-t.sub" class="anchor"></a><code><span>sub : <a href="../Predicates/index.html#type-subst">Predicates.subst</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>substitution</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.pi" class="anchored"><td class="def record field"><a href="#type-t.pi" class="anchor"></a><code><span>pi : <a href="#type-pi">pi</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>pure part</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.sigma_fp" class="anchored"><td class="def record field"><a href="#type-t.sigma_fp" class="anchor"></a><code><span>sigma_fp : <a href="#type-sigma">sigma</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>abduced spatial part</p><span class="comment-delim">*)</span></td></tr><tr id="type-t.pi_fp" class="anchored"><td class="def record field"><a href="#type-t.pi_fp" class="anchor"></a><code><span>pi_fp : <a href="#type-pi">pi</a>;</span></code></td><td class="def-doc"><span class="comment-delim">(*</span><p>abduced pure part</p><span class="comment-delim">*)</span></td></tr></table><code><span>}</span></code></div><div class="spec-doc"><p>the kind 'a should range over <code>normal</code> and <code>exposed</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare" class="anchored"><a href="#val-compare" class="anchor"></a><code><span><span class="keyword">val</span> compare : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> int)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec type" id="type-struct_init_mode" class="anchored"><a href="#type-struct_init_mode" class="anchor"></a><code><span><span class="keyword">type</span> struct_init_mode</span><span> = </span></code><table><tr id="type-struct_init_mode.No_init" class="anchored"><td class="def variant constructor"><a href="#type-struct_init_mode.No_init" class="anchor"></a><code><span>| </span><span><span class="constructor">No_init</span></span></code></td></tr><tr id="type-struct_init_mode.Fld_init" class="anchored"><td class="def variant constructor"><a href="#type-struct_init_mode.Fld_init" class="anchor"></a><code><span>| </span><span><span class="constructor">Fld_init</span></span></code></td></tr></table></div><div class="spec-doc"><p>type to describe different strategies for initializing fields of a structure. <code>No_init</code> does not initialize any fields of the struct. <code>Fld_init</code> initializes the fields of the struct with fresh variables (C) or default values (Java).</p></div></div><h3 id="basic-functions-for-propositions"><a href="#basic-functions-for-propositions" class="anchor"></a>Basic Functions for propositions</h3><div class="odoc-spec"><div class="spec value" id="val-has_footprint" class="anchored"><a href="#val-has_footprint" class="anchor"></a><code><span><span class="keyword">val</span> has_footprint : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>sigma_fp is nonempty or pi_fp is nonempty</p></div></div><div class="odoc-spec"><div class="spec value" id="val-compare_prop" class="anchored"><a href="#val-compare_prop" class="anchor"></a><code><span><span class="keyword">val</span> compare_prop : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Compare propositions</p></div></div><div class="odoc-spec"><div class="spec value" id="val-equal_sigma" class="anchored"><a href="#val-equal_sigma" class="anchor"></a><code><span><span class="keyword">val</span> equal_sigma : <span><a href="#type-sigma">sigma</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-sigma">sigma</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Check the equality of two sigma's</p></div></div><div class="odoc-spec"><div class="spec value" id="val-d_sub" class="anchored"><a href="#val-d_sub" class="anchor"></a><code><span><span class="keyword">val</span> d_sub : <span><a href="../Predicates/index.html#type-subst">Predicates.subst</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Dump a substitution.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_pi" class="anchored"><a href="#val-pp_pi" class="anchor"></a><code><span><span class="keyword">val</span> pp_pi : <span><a href="../../IStdlib/Pp/index.html#type-env">IStdlib.Pp.env</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-pi">pi</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Pretty print a pi.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-d_pi" class="anchored"><a href="#val-d_pi" class="anchor"></a><code><span><span class="keyword">val</span> d_pi : <span><a href="#type-pi">pi</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Dump a pi.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-d_sigma" class="anchored"><a href="#val-d_sigma" class="anchor"></a><code><span><span class="keyword">val</span> d_sigma : <span><a href="#type-sigma">sigma</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Dump a sigma.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-d_pi_sigma" class="anchored"><a href="#val-d_pi_sigma" class="anchor"></a><code><span><span class="keyword">val</span> d_pi_sigma : <span><a href="#type-pi">pi</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-sigma">sigma</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Dump a pi and a sigma</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigma_get_stack_nonstack" class="anchored"><a href="#val-sigma_get_stack_nonstack" class="anchor"></a><code><span><span class="keyword">val</span> sigma_get_stack_nonstack : <span>bool <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-sigma">sigma</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-sigma">sigma</a> * <a href="#type-sigma">sigma</a></span></code></div><div class="spec-doc"><p>Split sigma into stack and nonstack parts. The boolean indicates whether the stack should only include local variales.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_update_obj_sub" class="anchored"><a href="#val-prop_update_obj_sub" class="anchor"></a><code><span><span class="keyword">val</span> prop_update_obj_sub : <span><a href="../../IStdlib/Pp/index.html#type-env">IStdlib.Pp.env</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../../IStdlib/Pp/index.html#type-env">IStdlib.Pp.env</a></span></code></div><div class="spec-doc"><p>Update the object substitution given the stack variables in the prop</p></div></div><div class="odoc-spec"><div class="spec value" id="val-pp_prop" class="anchored"><a href="#val-pp_prop" class="anchor"></a><code><span><span class="keyword">val</span> pp_prop : <span><a href="../../IStdlib/Pp/index.html#type-env">IStdlib.Pp.env</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Pretty print a proposition.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_pred_env" class="anchored"><a href="#val-prop_pred_env" class="anchor"></a><code><span><span class="keyword">val</span> prop_pred_env : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../Predicates/Env/index.html#type-t">Predicates.Env.t</a></span></code></div><div class="spec-doc"><p>Create a predicate environment for a prop</p></div></div><div class="odoc-spec"><div class="spec value" id="val-d_prop" class="anchored"><a href="#val-d_prop" class="anchor"></a><code><span><span class="keyword">val</span> d_prop : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Dump a proposition.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-d_proplist_with_typ" class="anchored"><a href="#val-d_proplist_with_typ" class="anchor"></a><code><span><span class="keyword">val</span> d_proplist_with_typ : <span><span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> list</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-max_stamp" class="anchored"><a href="#val-max_stamp" class="anchor"></a><code><span><span class="keyword">val</span> max_stamp : <span>?f:<span>(<span><a href="../../IR/Ident/index.html#type-t">IR.Ident.t</a> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pi_free_vars" class="anchored"><a href="#val-pi_free_vars" class="anchor"></a><code><span><span class="keyword">val</span> pi_free_vars : <span><a href="#type-pi">pi</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Ident/index.html#type-t">IR.Ident.t</a> <span class="xref-unresolved">IStdlib</span>.IStd.Sequence.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sigma_free_vars" class="anchored"><a href="#val-sigma_free_vars" class="anchor"></a><code><span><span class="keyword">val</span> sigma_free_vars : <span><a href="#type-sigma">sigma</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Ident/index.html#type-t">IR.Ident.t</a> <span class="xref-unresolved">IStdlib</span>.IStd.Sequence.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-free_vars" class="anchored"><a href="#val-free_vars" class="anchor"></a><code><span><span class="keyword">val</span> free_vars : <span><span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Ident/index.html#type-t">IR.Ident.t</a> <span class="xref-unresolved">IStdlib</span>.IStd.Sequence.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-gen_free_vars" class="anchored"><a href="#val-gen_free_vars" class="anchor"></a><code><span><span class="keyword">val</span> gen_free_vars : <span><span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(unit,Â <a href="../../IR/Ident/index.html#type-t">IR.Ident.t</a>)</span> <span class="xref-unresolved">IStdlib</span>.IStd.Sequence.Generator.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sorted_gen_free_vars" class="anchored"><a href="#val-sorted_gen_free_vars" class="anchor"></a><code><span><span class="keyword">val</span> sorted_gen_free_vars : <span><span><a href="#type-sorted">sorted</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(unit,Â <a href="../../IR/Ident/index.html#type-t">IR.Ident.t</a>)</span> <span class="xref-unresolved">IStdlib</span>.IStd.Sequence.Generator.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-non_pure_free_vars" class="anchored"><a href="#val-non_pure_free_vars" class="anchor"></a><code><span><span class="keyword">val</span> non_pure_free_vars : <span><span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Ident/index.html#type-t">IR.Ident.t</a> <span class="xref-unresolved">IStdlib</span>.IStd.Sequence.t</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-dfs_sort" class="anchored"><a href="#val-dfs_sort" class="anchor"></a><code><span><span class="keyword">val</span> dfs_sort : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-sorted">sorted</a> <a href="#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-pi_sub" class="anchored"><a href="#val-pi_sub" class="anchor"></a><code><span><span class="keyword">val</span> pi_sub : <span><a href="../Predicates/index.html#type-subst">Predicates.subst</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Predicates/index.html#type-atom">Predicates.atom</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-atom">Predicates.atom</a> list</span></span></code></div><div class="spec-doc"><p>Apply substitution for pi</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigma_sub" class="anchored"><a href="#val-sigma_sub" class="anchor"></a><code><span><span class="keyword">val</span> sigma_sub : <span><a href="../Predicates/index.html#type-subst">Predicates.subst</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Predicates/index.html#type-hpred">Predicates.hpred</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-hpred">Predicates.hpred</a> list</span></span></code></div><div class="spec-doc"><p>Apply subsitution for sigma</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_sub" class="anchored"><a href="#val-prop_sub" class="anchor"></a><code><span><span class="keyword">val</span> prop_sub : <span><a href="../Predicates/index.html#type-subst">Predicates.subst</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exposed">exposed</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Apply subsitution to prop. Result is not normalized.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_expmap" class="anchored"><a href="#val-prop_expmap" class="anchor"></a><code><span><span class="keyword">val</span> prop_expmap : <span><span>(<span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exposed">exposed</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Apply the substitution to all the expressions in the prop.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-sigma_replace_exp" class="anchored"><a href="#val-sigma_replace_exp" class="anchor"></a><code><span><span class="keyword">val</span> sigma_replace_exp : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span>(<a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> * <a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a>)</span> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Predicates/index.html#type-hpred">Predicates.hpred</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-hpred">Predicates.hpred</a> list</span></span></code></div><div class="spec-doc"><p>Relaces all expressions in the <code>hpred list</code> using the first argument. Assume that the first parameter defines a partial function. No expressions inside hpara are replaced.</p></div></div><h3 id="normalization"><a href="#normalization" class="anchor"></a>Normalization</h3><div class="odoc-spec"><div class="spec value" id="val-mk_inequality" class="anchored"><a href="#val-mk_inequality" class="anchor"></a><code><span><span class="keyword">val</span> mk_inequality : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Predicates/index.html#type-atom">Predicates.atom</a></span></code></div><div class="spec-doc"><p>Turn an inequality expression into an atom</p></div></div><div class="odoc-spec"><div class="spec value" id="val-atom_is_inequality" class="anchored"><a href="#val-atom_is_inequality" class="anchor"></a><code><span><span class="keyword">val</span> atom_is_inequality : <span><a href="../Predicates/index.html#type-atom">Predicates.atom</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Return <code>true</code> if the atom is an inequality</p></div></div><div class="odoc-spec"><div class="spec value" id="val-atom_exp_le_const" class="anchored"><a href="#val-atom_exp_le_const" class="anchor"></a><code><span><span class="keyword">val</span> atom_exp_le_const : <span><a href="../Predicates/index.html#type-atom">Predicates.atom</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> * <a href="../../IR/IntLit/index.html#type-t">IR.IntLit.t</a>)</span> option</span></span></code></div><div class="spec-doc"><p>If the atom is <code>e&lt;=n</code> return <code>e,n</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-atom_const_lt_exp" class="anchored"><a href="#val-atom_const_lt_exp" class="anchor"></a><code><span><span class="keyword">val</span> atom_const_lt_exp : <span><a href="../Predicates/index.html#type-atom">Predicates.atom</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../IR/IntLit/index.html#type-t">IR.IntLit.t</a> * <a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a>)</span> option</span></span></code></div><div class="spec-doc"><p>If the atom is <code>n&lt;e</code> return <code>n,e</code></p></div></div><div class="odoc-spec"><div class="spec value" id="val-exp_normalize_prop" class="anchored"><a href="#val-exp_normalize_prop" class="anchor"></a><code><span><span class="keyword">val</span> exp_normalize_prop : <span>?destructive:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a></span></code></div><div class="spec-doc"><p>Normalize <code>exp</code> using the pure part of <code>prop</code>. Later, we should change this such that the normalization exposes offsets of <code>exp</code> as much as possible.</p><p>If <code>destructive</code> is true then normalize more aggressively, which may lose some useful structure or types.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-exp_normalize_noabs" class="anchored"><a href="#val-exp_normalize_noabs" class="anchor"></a><code><span><span class="keyword">val</span> exp_normalize_noabs : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-subst">Predicates.subst</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a></span></code></div><div class="spec-doc"><p>Normalize the expression without abstracting complex subexpressions</p></div></div><div class="odoc-spec"><div class="spec value" id="val-exp_collapse_consecutive_indices_prop" class="anchored"><a href="#val-exp_collapse_consecutive_indices_prop" class="anchor"></a><code><span><span class="keyword">val</span> exp_collapse_consecutive_indices_prop : <span><a href="../../IR/Typ/index.html#type-t">IR.Typ.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a></span></code></div><div class="spec-doc"><p>Collapse consecutive indices that should be added. For instance, this function reduces <code>x[1][1]</code> to <code>x[2]</code>. The <code>typ</code> argument is used to ensure the soundness of this collapsing.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-lexp_normalize_prop" class="anchored"><a href="#val-lexp_normalize_prop" class="anchor"></a><code><span><span class="keyword">val</span> lexp_normalize_prop : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a></span></code></div><div class="spec-doc"><p>Normalize <code>exp</code> used for the address of a heap cell. This normalization does not combine two offsets inside <code>exp</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-atom_normalize_prop" class="anchored"><a href="#val-atom_normalize_prop" class="anchor"></a><code><span><span class="keyword">val</span> atom_normalize_prop : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-atom">Predicates.atom</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Predicates/index.html#type-atom">Predicates.atom</a></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-sigma_normalize_prop" class="anchored"><a href="#val-sigma_normalize_prop" class="anchor"></a><code><span><span class="keyword">val</span> sigma_normalize_prop : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Predicates/index.html#type-hpred">Predicates.hpred</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-hpred">Predicates.hpred</a> list</span></span></code></div></div><div class="odoc-spec"><div class="spec value" id="val-normalize" class="anchored"><a href="#val-normalize" class="anchor"></a><code><span><span class="keyword">val</span> normalize : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-exposed">exposed</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>normalize a prop</p></div></div><div class="odoc-spec"><div class="spec value" id="val-expose" class="anchored"><a href="#val-expose" class="anchor"></a><code><span><span class="keyword">val</span> expose : <span><span><span class="type-var">_</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exposed">exposed</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>expose a prop, no-op used to instantiate the sub-type relation</p></div></div><h3 id="compaction"><a href="#compaction" class="anchor"></a>Compaction</h3><div class="odoc-spec"><div class="spec value" id="val-prop_compact" class="anchored"><a href="#val-prop_compact" class="anchor"></a><code><span><span class="keyword">val</span> prop_compact : <span><a href="../Predicates/index.html#type-sharing_env">Predicates.sharing_env</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Return a compact representation of the prop</p></div></div><h3 id="queries-about-propositions"><a href="#queries-about-propositions" class="anchor"></a>Queries about propositions</h3><div class="odoc-spec"><div class="spec value" id="val-prop_is_emp" class="anchored"><a href="#val-prop_is_emp" class="anchor"></a><code><span><span class="keyword">val</span> prop_is_emp : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Check if the sigma part of the proposition is emp</p></div></div><h3 id="functions-for-changing-and-generating-propositions"><a href="#functions-for-changing-and-generating-propositions" class="anchor"></a>Functions for changing and generating propositions</h3><div class="odoc-spec"><div class="spec value" id="val-mk_neq" class="anchored"><a href="#val-mk_neq" class="anchor"></a><code><span><span class="keyword">val</span> mk_neq : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Predicates/index.html#type-atom">Predicates.atom</a></span></code></div><div class="spec-doc"><p>Construct a disequality.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_eq" class="anchored"><a href="#val-mk_eq" class="anchor"></a><code><span><span class="keyword">val</span> mk_eq : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Predicates/index.html#type-atom">Predicates.atom</a></span></code></div><div class="spec-doc"><p>Construct an equality.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_pred" class="anchored"><a href="#val-mk_pred" class="anchor"></a><code><span><span class="keyword">val</span> mk_pred : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/PredSymb/index.html#type-t">IR.PredSymb.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Predicates/index.html#type-atom">Predicates.atom</a></span></code></div><div class="spec-doc"><p>Construct a positive pred.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_npred" class="anchored"><a href="#val-mk_npred" class="anchor"></a><code><span><span class="keyword">val</span> mk_npred : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/PredSymb/index.html#type-t">IR.PredSymb.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Predicates/index.html#type-atom">Predicates.atom</a></span></code></div><div class="spec-doc"><p>Construct a negative pred.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-create_strexp_of_type" class="anchored"><a href="#val-create_strexp_of_type" class="anchor"></a><code><span><span class="keyword">val</span> create_strexp_of_type : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-struct_init_mode">struct_init_mode</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Typ/index.html#type-t">IR.Typ.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> option</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-inst">Predicates.inst</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Predicates/index.html#type-strexp">Predicates.strexp</a></span></code></div><div class="spec-doc"><p>create a strexp of the given type, populating the structures if <code>expand_structs</code> is true</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_ptsto" class="anchored"><a href="#val-mk_ptsto" class="anchor"></a><code><span><span class="keyword">val</span> mk_ptsto : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-strexp">Predicates.strexp</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Predicates/index.html#type-hpred">Predicates.hpred</a></span></code></div><div class="spec-doc"><p>Construct a pointsto.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_ptsto_exp" class="anchored"><a href="#val-mk_ptsto_exp" class="anchor"></a><code><span><span class="keyword">val</span> mk_ptsto_exp : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-struct_init_mode">struct_init_mode</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> * <a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> * <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> option</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-inst">Predicates.inst</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Predicates/index.html#type-hpred">Predicates.hpred</a></span></code></div><div class="spec-doc"><p>Construct a points-to predicate for an expression using either the provided expression <code>name</code> as base for fresh identifiers.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_ptsto_lvar" class="anchored"><a href="#val-mk_ptsto_lvar" class="anchor"></a><code><span><span class="keyword">val</span> mk_ptsto_lvar : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-struct_init_mode">struct_init_mode</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-inst">Predicates.inst</a> <span class="arrow">&#45;&gt;</span></span> <span><span>(<a href="../../IR/Pvar/index.html#type-t">IR.Pvar.t</a> * <a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> * <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> option</span>)</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Predicates/index.html#type-hpred">Predicates.hpred</a></span></code></div><div class="spec-doc"><p>Construct a points-to predicate for a single program variable. If <code>expand_structs</code> is true, initialize the fields of structs with fresh variables.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_lseg" class="anchored"><a href="#val-mk_lseg" class="anchor"></a><code><span><span class="keyword">val</span> mk_lseg : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-lseg_kind">Predicates.lseg_kind</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-hpara">Predicates.hpara</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Predicates/index.html#type-hpred">Predicates.hpred</a></span></code></div><div class="spec-doc"><p>Construct a lseg predicate</p></div></div><div class="odoc-spec"><div class="spec value" id="val-mk_dllseg" class="anchored"><a href="#val-mk_dllseg" class="anchor"></a><code><span><span class="keyword">val</span> mk_dllseg : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-lseg_kind">Predicates.lseg_kind</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-hpara_dll">Predicates.hpara_dll</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <a href="../Predicates/index.html#type-hpred">Predicates.hpred</a></span></code></div><div class="spec-doc"><p>Construct a dllseg predicate</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_emp" class="anchored"><a href="#val-prop_emp" class="anchor"></a><code><span><span class="keyword">val</span> prop_emp : <span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Proposition <code>true /\ emp</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_reset_inst" class="anchored"><a href="#val-prop_reset_inst" class="anchor"></a><code><span><span class="keyword">val</span> prop_reset_inst : <span><span>(<span><a href="../Predicates/index.html#type-inst">Predicates.inst</a> <span class="arrow">&#45;&gt;</span></span> <a href="../Predicates/index.html#type-inst">Predicates.inst</a>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exposed">exposed</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Reset every inst in the prop using the given map</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_hpred_star" class="anchored"><a href="#val-prop_hpred_star" class="anchor"></a><code><span><span class="keyword">val</span> prop_hpred_star : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-hpred">Predicates.hpred</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exposed">exposed</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Conjoin a heap predicate by separating conjunction.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_sigma_star" class="anchored"><a href="#val-prop_sigma_star" class="anchor"></a><code><span><span class="keyword">val</span> prop_sigma_star : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Predicates/index.html#type-hpred">Predicates.hpred</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exposed">exposed</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Conjoin a list of heap predicates by separating conjunction</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_atom_and" class="anchored"><a href="#val-prop_atom_and" class="anchor"></a><code><span><span class="keyword">val</span> prop_atom_and : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?footprint:bool <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-atom">Predicates.atom</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Conjoin a pure atomic predicate by normal conjunction.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-conjoin_eq" class="anchored"><a href="#val-conjoin_eq" class="anchor"></a><code><span><span class="keyword">val</span> conjoin_eq : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?footprint:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Conjoin <code>exp1</code>=<code>exp2</code> with a symbolic heap <code>prop</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-conjoin_neq" class="anchored"><a href="#val-conjoin_neq" class="anchor"></a><code><span><span class="keyword">val</span> conjoin_neq : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?footprint:bool <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Exp/index.html#type-t">IR.Exp.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Conjoin <code>exp1</code>!=<code>exp2</code> with a symbolic heap <code>prop</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-get_pure" class="anchored"><a href="#val-get_pure" class="anchor"></a><code><span><span class="keyword">val</span> get_pure : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-atom">Predicates.atom</a> list</span></span></code></div><div class="spec-doc"><p>Return the pure part of <code>prop</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_rename_primed_footprint_vars" class="anchored"><a href="#val-prop_rename_primed_footprint_vars" class="anchor"></a><code><span><span class="keyword">val</span> prop_rename_primed_footprint_vars : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Canonicalize the names of primed variables.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-extract_footprint" class="anchored"><a href="#val-extract_footprint" class="anchor"></a><code><span><span class="keyword">val</span> extract_footprint : <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exposed">exposed</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Extract the footprint and return it as a prop</p></div></div><div class="odoc-spec"><div class="spec value" id="val-extract_spec" class="anchored"><a href="#val-extract_spec" class="anchor"></a><code><span><span class="keyword">val</span> extract_spec : <span><span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span> * <span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Extract the (footprint,current) pair</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_expand" class="anchored"><a href="#val-prop_expand" class="anchor"></a><code><span><span class="keyword">val</span> prop_expand : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span> list</span></span></code></div><div class="spec-doc"><p>Expand PE listsegs if the flag is on.</p></div></div><h3 id="functions-for-existentially-quantifying-and-unquantifying-variables"><a href="#functions-for-existentially-quantifying-and-unquantifying-variables" class="anchor"></a>Functions for existentially quantifying and unquantifying variables</h3><div class="odoc-spec"><div class="spec value" id="val-exist_quantify" class="anchored"><a href="#val-exist_quantify" class="anchor"></a><code><span><span class="keyword">val</span> exist_quantify : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span>?ids_queue:<span>unit <span class="xref-unresolved">IR</span>.Ident.HashQueue.t</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../../IR/Ident/index.html#type-t">IR.Ident.t</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Existentially quantify the <code>ids</code> in <code>prop</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_normal_vars_to_primed_vars" class="anchored"><a href="#val-prop_normal_vars_to_primed_vars" class="anchor"></a><code><span><span class="keyword">val</span> prop_normal_vars_to_primed_vars : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>convert the footprint vars to primed vars.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_primed_vars_to_normal_vars" class="anchored"><a href="#val-prop_primed_vars_to_normal_vars" class="anchor"></a><code><span><span class="keyword">val</span> prop_primed_vars_to_normal_vars : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>convert the primed vars to normal vars.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-from_pi" class="anchored"><a href="#val-from_pi" class="anchor"></a><code><span><span class="keyword">val</span> from_pi : <span><a href="#type-pi">pi</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exposed">exposed</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Build an exposed prop from pi</p></div></div><div class="odoc-spec"><div class="spec value" id="val-from_sigma" class="anchored"><a href="#val-from_sigma" class="anchor"></a><code><span><span class="keyword">val</span> from_sigma : <span><a href="#type-sigma">sigma</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exposed">exposed</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Build an exposed prop from sigma</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set" class="anchored"><a href="#val-set" class="anchor"></a><code><span><span class="keyword">val</span> set : <span>?sub:<a href="../Predicates/index.html#type-subst">Predicates.subst</a> <span class="arrow">&#45;&gt;</span></span> <span>?pi:<a href="#type-pi">pi</a> <span class="arrow">&#45;&gt;</span></span> <span>?sigma:<a href="#type-sigma">sigma</a> <span class="arrow">&#45;&gt;</span></span> <span>?pi_fp:<a href="#type-pi">pi</a> <span class="arrow">&#45;&gt;</span></span> <span>?sigma_fp:<a href="#type-sigma">sigma</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-exposed">exposed</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Set individual fields of the prop.</p></div></div><h3 id="prop-iterators"><a href="#prop-iterators" class="anchor"></a>Prop iterators</h3><div class="odoc-spec"><div class="spec type" id="type-prop_iter" class="anchored"><a href="#type-prop_iter" class="anchor"></a><code><span><span class="keyword">type</span> <span>'a prop_iter</span></span></code></div><div class="spec-doc"><p>Iterator over the sigma part. Each iterator has a current <code>hpred</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_iter_create" class="anchored"><a href="#val-prop_iter_create" class="anchor"></a><code><span><span class="keyword">val</span> prop_iter_create : <span><span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>unit <a href="#type-prop_iter">prop_iter</a></span> option</span></span></code></div><div class="spec-doc"><p>Create an iterator, return None if sigma part is empty.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_iter_to_prop" class="anchored"><a href="#val-prop_iter_to_prop" class="anchor"></a><code><span><span class="keyword">val</span> prop_iter_to_prop : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-prop_iter">prop_iter</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Return the prop associated to the iterator.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_iter_add_atom" class="anchored"><a href="#val-prop_iter_add_atom" class="anchor"></a><code><span><span class="keyword">val</span> prop_iter_add_atom : <span>bool <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-prop_iter">prop_iter</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-atom">Predicates.atom</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-prop_iter">prop_iter</a></span></span></code></div><div class="spec-doc"><p>Add an atom to the pi part of prop iter. The first parameter records whether it is done during footprint or during re - execution.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_iter_remove_curr_then_to_prop" class="anchored"><a href="#val-prop_iter_remove_curr_then_to_prop" class="anchor"></a><code><span><span class="keyword">val</span> prop_iter_remove_curr_then_to_prop : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-prop_iter">prop_iter</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-normal">normal</a> <a href="#type-t">t</a></span></span></code></div><div class="spec-doc"><p>Remove the current element from the iterator, and return the prop associated to the resulting iterator.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_iter_current" class="anchored"><a href="#val-prop_iter_current" class="anchor"></a><code><span><span class="keyword">val</span> prop_iter_current : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-prop_iter">prop_iter</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="../Predicates/index.html#type-hpred">Predicates.hpred</a> * <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>Return the current hpred and state.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_iter_next" class="anchored"><a href="#val-prop_iter_next" class="anchor"></a><code><span><span class="keyword">val</span> prop_iter_next : <span><span><span class="type-var">'a</span> <a href="#type-prop_iter">prop_iter</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>unit <a href="#type-prop_iter">prop_iter</a></span> option</span></span></code></div><div class="spec-doc"><p>Return the next iterator.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_iter_update_current" class="anchored"><a href="#val-prop_iter_update_current" class="anchor"></a><code><span><span class="keyword">val</span> prop_iter_update_current : <span><span><span class="type-var">'a</span> <a href="#type-prop_iter">prop_iter</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-hpred">Predicates.hpred</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-prop_iter">prop_iter</a></span></span></code></div><div class="spec-doc"><p>Update the current element of the iterator.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_iter_prev_then_insert" class="anchored"><a href="#val-prop_iter_prev_then_insert" class="anchor"></a><code><span><span class="keyword">val</span> prop_iter_prev_then_insert : <span><span><span class="type-var">'a</span> <a href="#type-prop_iter">prop_iter</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-hpred">Predicates.hpred</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-prop_iter">prop_iter</a></span></span></code></div><div class="spec-doc"><p>Insert before the current element of the iterator.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_iter_max_stamp" class="anchored"><a href="#val-prop_iter_max_stamp" class="anchor"></a><code><span><span class="keyword">val</span> prop_iter_max_stamp : <span>?f:<span>(<span><a href="../../IR/Ident/index.html#type-t">IR.Ident.t</a> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-prop_iter">prop_iter</a></span> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>Find the maximum stamp of a free variable of a certain kind.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_iter_get_footprint_sigma" class="anchored"><a href="#val-prop_iter_get_footprint_sigma" class="anchor"></a><code><span><span class="keyword">val</span> prop_iter_get_footprint_sigma : <span><span><span class="type-var">'a</span> <a href="#type-prop_iter">prop_iter</a></span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../Predicates/index.html#type-hpred">Predicates.hpred</a> list</span></span></code></div><div class="spec-doc"><p>Extract the sigma part of the footprint</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_iter_replace_footprint_sigma" class="anchored"><a href="#val-prop_iter_replace_footprint_sigma" class="anchor"></a><code><span><span class="keyword">val</span> prop_iter_replace_footprint_sigma : <span><span><span class="type-var">'a</span> <a href="#type-prop_iter">prop_iter</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Predicates/index.html#type-hpred">Predicates.hpred</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-prop_iter">prop_iter</a></span></span></code></div><div class="spec-doc"><p>Replace the sigma part of the footprint</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_iter_find" class="anchored"><a href="#val-prop_iter_find" class="anchor"></a><code><span><span class="keyword">val</span> prop_iter_find : <span><span>unit <a href="#type-prop_iter">prop_iter</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span>(<span><a href="../Predicates/index.html#type-hpred">Predicates.hpred</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> option</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-prop_iter">prop_iter</a></span> option</span></span></code></div><div class="spec-doc"><p>Scan sigma to find an <code>hpred</code> satisfying the filter function.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_iter_update_current_by_list" class="anchored"><a href="#val-prop_iter_update_current_by_list" class="anchor"></a><code><span><span class="keyword">val</span> prop_iter_update_current_by_list : <span><span><span class="type-var">'a</span> <a href="#type-prop_iter">prop_iter</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="../Predicates/index.html#type-hpred">Predicates.hpred</a> list</span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-prop_iter">prop_iter</a></span></span></code></div><div class="spec-doc"><p>Update the current element of the iterator by a nonempty list of elements.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_iter_set_state" class="anchored"><a href="#val-prop_iter_set_state" class="anchor"></a><code><span><span class="keyword">val</span> prop_iter_set_state : <span><span><span class="type-var">'a</span> <a href="#type-prop_iter">prop_iter</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'b</span> <a href="#type-prop_iter">prop_iter</a></span></span></code></div><div class="spec-doc"><p>Set the state of an iterator</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_iter_make_id_primed" class="anchored"><a href="#val-prop_iter_make_id_primed" class="anchor"></a><code><span><span class="keyword">val</span> prop_iter_make_id_primed : <span><a href="../../IR/Tenv/index.html#type-t">IR.Tenv.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../IR/Ident/index.html#type-t">IR.Ident.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><span class="type-var">'a</span> <a href="#type-prop_iter">prop_iter</a></span> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <a href="#type-prop_iter">prop_iter</a></span></span></code></div><div class="spec-doc"><p>Rename <code>ident</code> in <code>iter</code> by a fresh primed identifier</p></div></div><div class="odoc-spec"><div class="spec value" id="val-prop_iter_gc_fields" class="anchored"><a href="#val-prop_iter_gc_fields" class="anchor"></a><code><span><span class="keyword">val</span> prop_iter_gc_fields : <span><span>unit <a href="#type-prop_iter">prop_iter</a></span> <span class="arrow">&#45;&gt;</span></span> <span>unit <a href="#type-prop_iter">prop_iter</a></span></span></code></div><div class="spec-doc"><p>Collect garbage fields.</p></div></div><h3 id="internal-modules"><a href="#internal-modules" class="anchor"></a>Internal modules</h3><div class="odoc-spec"><div class="spec module" id="module-Metrics" class="anchored"><a href="#module-Metrics" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="Metrics/index.html">Metrics</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><div class="odoc-spec"><div class="spec module" id="module-CategorizePreconditions" class="anchored"><a href="#module-CategorizePreconditions" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="CategorizePreconditions/index.html">CategorizePreconditions</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div></div></body></html>