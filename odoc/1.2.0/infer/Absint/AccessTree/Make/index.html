<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Make (infer.Absint.AccessTree.Make)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.1"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">infer</a> &#x00BB; <a href="../../index.html">Absint</a> &#x00BB; <a href="../index.html">AccessTree</a> &#x00BB; Make</nav><header class="odoc-preamble"><h1>Module <code><span>AccessTree.Make</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#parameters">Parameters</a></li><li><a href="#signature">Signature</a></li></ul></nav><div class="odoc-content"><h2 id="parameters"><a href="#parameters" class="anchor"></a>Parameters</h2><div class="odoc-spec"><div class="spec parameter anchored" id="argument-1-TraceDomain"><a href="#argument-1-TraceDomain" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="argument-1-TraceDomain/index.html">TraceDomain</a></span><span> : <a href="../../AbstractDomain/module-type-WithBottom/index.html">AbstractDomain.WithBottom</a></span></code></div></div><div class="odoc-spec"><div class="spec parameter anchored" id="argument-2-Config"><a href="#argument-2-Config" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="argument-2-Config/index.html">Config</a></span><span> : <a href="../module-type-Config/index.html">Config</a></span></code></div></div><h2 id="signature"><a href="#signature" class="anchor"></a>Signature</h2><div class="odoc-spec"><div class="spec module anchored" id="module-TraceDomain"><a href="#module-TraceDomain" class="anchor"></a><code><span><span class="keyword">module</span> TraceDomain</span><span> = <a href="argument-1-TraceDomain/index.html">TraceDomain</a></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-AccessMap"><a href="#module-AccessMap" class="anchor"></a><code><span><span class="keyword">module</span> <a href="AccessMap/index.html">AccessMap</a></span><span> : 
  <a href="../../../IStdlib/PrettyPrintable/module-type-PPMap/index.html">IStdlib.PrettyPrintable.PPMap</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../../IStdlib/PrettyPrintable/module-type-PPMap/index.html#type-key">key</a> = <a href="../../AccessPath/index.html#type-access">AccessPath.access</a></span></span></code></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-BaseMap"><a href="#module-BaseMap" class="anchor"></a><code><span><span class="keyword">module</span> BaseMap</span><span> = <a href="../../AccessPath/BaseMap/index.html">AccessPath.BaseMap</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-node"><a href="#type-node" class="anchor"></a><code><span><span class="keyword">type</span> node</span><span> = <a href="argument-1-TraceDomain/index.html#type-t">TraceDomain.t</a> * <a href="#type-tree">tree</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-tree"><a href="#type-tree" class="anchor"></a><code><span><span class="keyword">and</span> tree</span><span> = </span></code><ol><li id="type-tree.Subtree" class="def variant constructor anchored"><a href="#type-tree.Subtree" class="anchor"></a><code><span>| </span><span><span class="constructor">Subtree</span> <span class="keyword">of</span> <span><a href="#type-node">node</a> <a href="AccessMap/index.html#type-t">AccessMap.t</a></span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>map from access -&gt; nodes. a leaf is encoded as an empty map</p><span class="comment-delim">*)</span></div></li><li id="type-tree.Star" class="def variant constructor anchored"><a href="#type-tree.Star" class="anchor"></a><code><span>| </span><span><span class="constructor">Star</span></span></code><div class="def-doc"><span class="comment-delim">(*</span><p>special leaf for starred access paths</p><span class="comment-delim">*)</span></div></li></ol></div></div><div class="odoc-include"><div class="spec-doc"><p>map from base var -&gt; access subtree. Here's how to represent a few different kinds of trace * access path associations:</p><pre class="language-ocaml"><code>(x, T)               := { x |-&gt; (T, Subtree {}) }
(x.f, T)             := { x |-&gt; (empty, Subtree { f |-&gt; (T, Subtree {}) }) }
(x*, T)              := { x |-&gt; (T, Star) }
(x.f*, T)            := { x |-&gt; (empty, Subtree { f |-&gt; (T, Star) }) }
(x, T1), (y, T2)     := { x |-&gt; (T1, Subtree {}), y |-&gt; (T2, Subtree {}) }
(x.f, T1), (x.g, T2) := { x |-&gt; (empty, Subtree { f |-&gt; (T1, Subtree {}),
                                                  g |-&gt; (T2, Subtree {}) }) }</code></pre></div><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../AbstractDomain/module-type-WithBottom/index.html">AbstractDomain.WithBottom</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../AbstractDomain/module-type-WithBottom/index.html#type-t">t</a> = <span><a href="#type-node">node</a> <a href="../../AccessPath/BaseMap/index.html#type-t">BaseMap.t</a></span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../AbstractDomain/module-type-S/index.html">AbstractDomain.S</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../AbstractDomain/module-type-S/index.html#type-t">t</a> = <span><a href="#type-node">node</a> <a href="../../AccessPath/BaseMap/index.html#type-t">BaseMap.t</a></span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../AbstractDomain/module-type-Comparable/index.html">AbstractDomain.Comparable</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../AbstractDomain/module-type-Comparable/index.html#type-t">t</a> = <span><a href="#type-node">node</a> <a href="../../AccessPath/BaseMap/index.html#type-t">BaseMap.t</a></span></span></span></code></summary><div class="odoc-include"><details open="open"><summary class="spec include"><code><span><span class="keyword">include</span> <a href="../../../IStdlib/PrettyPrintable/module-type-PrintableType/index.html">IStdlib.PrettyPrintable.PrintableType</a> <span class="keyword">with</span> <span><span class="keyword">type</span> <a href="../../../IStdlib/PrettyPrintable/module-type-PrintableType/index.html#type-t">t</a> = <span><a href="#type-node">node</a> <a href="../../AccessPath/BaseMap/index.html#type-t">BaseMap.t</a></span></span></span></code></summary><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = <span><a href="#type-node">node</a> <a href="../../AccessPath/BaseMap/index.html#type-t">BaseMap.t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp"><a href="#val-pp" class="anchor"></a><code><span><span class="keyword">val</span> pp : <span><a href="../../../IStdlib/PrettyPrintable/index.html">IStdlib.PrettyPrintable</a>.F.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div></details></div><div class="odoc-spec"><div class="spec value anchored" id="val-leq"><a href="#val-leq" class="anchor"></a><code><span><span class="keyword">val</span> leq : <span><span class="label">lhs</span>:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">rhs</span>:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>the implication relation: <code>lhs &lt;= rhs</code> means <code>lhs |- rhs</code></p></div></div></details></div><div class="odoc-spec"><div class="spec value anchored" id="val-join"><a href="#val-join" class="anchor"></a><code><span><span class="keyword">val</span> join : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-widen"><a href="#val-widen" class="anchor"></a><code><span><span class="keyword">val</span> widen : <span><span class="label">prev</span>:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">next</span>:<a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="label">num_iters</span>:int <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div></div></details></div><div class="odoc-spec"><div class="spec value anchored" id="val-bottom"><a href="#val-bottom" class="anchor"></a><code><span><span class="keyword">val</span> bottom : <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>The bottom value of the domain.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-is_bottom"><a href="#val-is_bottom" class="anchor"></a><code><span><span class="keyword">val</span> is_bottom : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div><div class="spec-doc"><p>Return true if this is the bottom value</p></div></div></details></div><div class="odoc-spec"><div class="spec value anchored" id="val-empty_node"><a href="#val-empty_node" class="anchor"></a><code><span><span class="keyword">val</span> empty_node : <a href="#type-node">node</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_node"><a href="#val-make_node" class="anchor"></a><code><span><span class="keyword">val</span> make_node : <span><a href="argument-1-TraceDomain/index.html#type-t">TraceDomain.t</a> <span class="arrow">&#45;&gt;</span></span> <span><span><a href="#type-node">node</a> <a href="AccessMap/index.html#type-t">AccessMap.t</a></span> <span class="arrow">&#45;&gt;</span></span> <a href="#type-node">node</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_access_node"><a href="#val-make_access_node" class="anchor"></a><code><span><span class="keyword">val</span> make_access_node : 
  <span><a href="argument-1-TraceDomain/index.html#type-t">TraceDomain.t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="../../AccessPath/index.html#type-access">AccessPath.access</a> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="argument-1-TraceDomain/index.html#type-t">TraceDomain.t</a> <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-node">node</a></span></code></div><div class="spec-doc"><p>for testing only</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_normal_leaf"><a href="#val-make_normal_leaf" class="anchor"></a><code><span><span class="keyword">val</span> make_normal_leaf : <span><a href="argument-1-TraceDomain/index.html#type-t">TraceDomain.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-node">node</a></span></code></div><div class="spec-doc"><p>create a leaf node with no successors</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-make_starred_leaf"><a href="#val-make_starred_leaf" class="anchor"></a><code><span><span class="keyword">val</span> make_starred_leaf : <span><a href="argument-1-TraceDomain/index.html#type-t">TraceDomain.t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-node">node</a></span></code></div><div class="spec-doc"><p>create a leaf node with a wildcard successor</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_node"><a href="#val-get_node" class="anchor"></a><code><span><span class="keyword">val</span> get_node : <span><a href="../../AccessPath/Abs/index.html#type-t">AccessPath.Abs.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-node">node</a> option</span></span></code></div><div class="spec-doc"><p>retrieve the node associated with the given access path</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-get_trace"><a href="#val-get_trace" class="anchor"></a><code><span><span class="keyword">val</span> get_trace : <span><a href="../../AccessPath/Abs/index.html#type-t">AccessPath.Abs.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="argument-1-TraceDomain/index.html#type-t">TraceDomain.t</a> option</span></span></code></div><div class="spec-doc"><p>retrieve the trace associated with the given access path</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_node"><a href="#val-add_node" class="anchor"></a><code><span><span class="keyword">val</span> add_node : <span><a href="../../AccessPath/Abs/index.html#type-t">AccessPath.Abs.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>add the given access path to the tree and associate its last access with the given node. if any of the accesses in the path are not already present in the tree, they will be added with empty traces associated with each of the inner nodes.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-add_trace"><a href="#val-add_trace" class="anchor"></a><code><span><span class="keyword">val</span> add_trace : <span><a href="../../AccessPath/Abs/index.html#type-t">AccessPath.Abs.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="argument-1-TraceDomain/index.html#type-t">TraceDomain.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>add the given access path to the tree and associate its last access with the given trace. if any of the accesses in the path are not already present in the tree, they will be added with empty traces associated with each of the inner nodes.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-node_join"><a href="#val-node_join" class="anchor"></a><code><span><span class="keyword">val</span> node_join : <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> <a href="#type-node">node</a></span></code></div><div class="spec-doc"><p>join two nodes</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-fold"><a href="#val-fold" class="anchor"></a><code><span><span class="keyword">val</span> fold : <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../AccessPath/Abs/index.html#type-t">AccessPath.Abs.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span></span></code></div><div class="spec-doc"><p>apply a function to each (access path, node) pair in the tree.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-trace_fold"><a href="#val-trace_fold" class="anchor"></a><code><span><span class="keyword">val</span> trace_fold : 
  <span><span>(<span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="../../AccessPath/Abs/index.html#type-t">AccessPath.Abs.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="argument-1-TraceDomain/index.html#type-t">TraceDomain.t</a> <span class="arrow">&#45;&gt;</span></span> <span class="type-var">'a</span>)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span><span class="type-var">'a</span> <span class="arrow">&#45;&gt;</span></span>
  <span class="type-var">'a</span></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-exists"><a href="#val-exists" class="anchor"></a><code><span><span class="keyword">val</span> exists : <span><span>(<span><a href="../../AccessPath/Abs/index.html#type-t">AccessPath.Abs.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> bool)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-iter"><a href="#val-iter" class="anchor"></a><code><span><span class="keyword">val</span> iter : <span><span>(<span><a href="../../AccessPath/Abs/index.html#type-t">AccessPath.Abs.t</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> unit)</span> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-depth"><a href="#val-depth" class="anchor"></a><code><span><span class="keyword">val</span> depth : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div><div class="spec-doc"><p>number of traces in the tallest branch of the tree</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-pp_node"><a href="#val-pp_node" class="anchor"></a><code><span><span class="keyword">val</span> pp_node : <span><span class="xref-unresolved">Stdlib</span>.Format.formatter <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-node">node</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div></div></div></body></html>
