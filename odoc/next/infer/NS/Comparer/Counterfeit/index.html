<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Counterfeit (infer.NS.Comparer.Counterfeit)</title><meta charset="utf-8"/><link rel="stylesheet" href="../../../../odoc.support/odoc.css"/><meta name="generator" content="odoc 2.4.3"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="../../../index.html">infer</a> &#x00BB; <a href="../../index.html">NS</a> &#x00BB; <a href="../index.html">Comparer</a> &#x00BB; Counterfeit</nav><header class="odoc-preamble"><h1>Module <code><span>Comparer.Counterfeit</span></code></h1><p><code>Counterfeit</code> takes a compare function and type and yields a comparer that asserts that the given <code>compare</code> type is a singleton for the given <code>compare</code> function. This is not checked by the type system. It is the client's responsibility to ensure that distinct types are provided for distinct compare functions. If the same type is used for multiple functions, then <code>Counterfeit</code> will produce type-compatible comparers even though the wrapped compare functions differ.</p></header><nav class="odoc-toc"><ul><li><a href="#parameters">Parameters</a></li><li><a href="#signature">Signature</a></li></ul></nav><div class="odoc-content"><h2 id="parameters"><a href="#parameters" class="anchor"></a>Parameters</h2><div class="odoc-spec"><div class="spec parameter anchored" id="argument-1-Ord"><a href="#argument-1-Ord" class="anchor"></a><code><span><span class="keyword">module</span> </span><span><a href="argument-1-Ord/index.html">Ord</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div></div><h2 id="signature"><a href="#signature" class="anchor"></a>Signature</h2><div class="odoc-spec"><div class="spec type subst anchored" id="type-comparer"><a href="#type-comparer" class="anchor"></a><code><span><span class="keyword">type</span> <span>('a, 'compare_a) comparer</span></span><span> := <span><span>(<span class="type-var">'a</span>, <span class="type-var">'compare_a</span>)</span> <a href="../index.html#type-t">t</a></span></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-t"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span><span> = <a href="argument-1-Ord/index.html#type-t">Ord.t</a></span></code></div></div><div class="odoc-spec"><div class="spec type anchored" id="type-compare"><a href="#type-compare" class="anchor"></a><code><span><span class="keyword">type</span> compare</span><span> = <a href="argument-1-Ord/index.html#type-compare">Ord.compare</a></span></code></div><div class="spec-doc"><p><code>compare</code> types are equipped with functions to support use of <code>@@deriving compare, equal, sexp</code> on types parameterized by such singleton types for compare functions. These derived functions are never actually called, since the compare type parameters are phantom.</p></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-compare_compare"><a href="#val-compare_compare" class="anchor"></a><code><span><span class="keyword">val</span> compare_compare : <span><a href="#type-compare">compare</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-compare">compare</a> <span class="arrow">&#45;&gt;</span></span> int</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-equal_compare"><a href="#val-equal_compare" class="anchor"></a><code><span><span class="keyword">val</span> equal_compare : <span><a href="#type-compare">compare</a> <span class="arrow">&#45;&gt;</span></span> <span><a href="#type-compare">compare</a> <span class="arrow">&#45;&gt;</span></span> bool</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-sexp_of_compare"><a href="#val-sexp_of_compare" class="anchor"></a><code><span><span class="keyword">val</span> sexp_of_compare : <span><a href="#type-compare">compare</a> <span class="arrow">&#45;&gt;</span></span> <span class="xref-unresolved">Sexplib0</span>.Sexp.t</span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-compare_of_sexp"><a href="#val-compare_of_sexp" class="anchor"></a><code><span><span class="keyword">val</span> compare_of_sexp : <span><span class="xref-unresolved">Sexplib0</span>.Sexp.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-compare">compare</a></span></code></div></div><div class="odoc-spec"><div class="spec value anchored" id="val-comparer"><a href="#val-comparer" class="anchor"></a><code><span><span class="keyword">val</span> comparer : <span><span>(<a href="#type-t">t</a>, <a href="#type-compare">compare</a>)</span> <a href="#type-comparer">comparer</a></span></span></code></div></div></div></body></html>
