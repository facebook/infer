<!DOCTYPE html>
<html lang="en" data-theme="">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus">

<script type="text/javascript">/*<![CDATA[*/window.__chunkMapping={"17896441":["/17896441.547e8cec.js"],"main":["/main.66155581.js"],"00d3276d":["/00d3276d.729c97b9.js"],"16fe8a4c":["/16fe8a4c.0986402d.js"],"1906a68b":["/1906a68b.57fabe9a.js"],"1be78505":["/1be78505.25d8be57.js"],"1dbe42a7":["/1dbe42a7.619049a1.js"],"20ac7829":["/20ac7829.512266cf.js"],"293e08e8":["/293e08e8.11fe81c8.js"],"2f54a934":["/2f54a934.2e3f5f1b.js"],"3423820d":["/3423820d.f0ef983c.js"],"3eb0a99f":["/3eb0a99f.019d4120.js"],"3f15ec67":["/3f15ec67.0e96c71d.js"],"462c3b2b":["/462c3b2b.2bbff1f2.js"],"491a3217":["/491a3217.cb4f8e7c.js"],"5125cf7b":["/5125cf7b.dea5ce18.js"],"56ebd09a":["/56ebd09a.0739518f.js"],"5a5dcc21":["/5a5dcc21.065904cd.js"],"5f403532":["/5f403532.165c0d4f.js"],"6131ac47":["/6131ac47.d8392e4b.js"],"70793eb2":["/70793eb2.398a639d.js"],"72e974ef":["/72e974ef.084a31c5.js"],"7b1f0035":["/7b1f0035.aefbb374.js"],"7dd84d75":["/7dd84d75.bf4b41f8.js"],"805f3806":["/805f3806.af888142.js"],"9702a600":["/9702a600.510f0d9d.js"],"a5a260f1":["/a5a260f1.72c8757e.js"],"a6aa9e1f":["/a6aa9e1f.8a0e20a7.js"],"aa0b35eb":["/aa0b35eb.e3c2567b.js"],"acb2d06a":["/acb2d06a.4045c830.js"],"bab022f4":["/bab022f4.73ad523f.js"],"bbb4ffb5":["/bbb4ffb5.a52641d4.js"],"c412bf64":["/c412bf64.5af62795.js"],"c4f5d8e4":["/c4f5d8e4.872e9b3a.js"],"c6aa6fbc":["/c6aa6fbc.6aadb4ea.js"],"c8131338":["/c8131338.f68e2bbb.js"],"ccc49370":["/ccc49370.85cbc3ca.js"],"d9e16301":["/d9e16301.3a26cb77.js"],"dc4834dd":["/dc4834dd.e3b3e949.js"],"dcc75ef7":["/dcc75ef7.3b76f604.js"],"dd58f8af":["/dd58f8af.c5f230ae.js"],"ec789fed":["/ec789fed.37f20a69.js"],"f06ce8fa":["/f06ce8fa.82c1ea6b.js"],"f5ff54f0":["/f5ff54f0.387a5f12.js"],"fa9ab54d":["/fa9ab54d.12e59354.js"]};/*]]>*/</script>

<title data-react-helmet="true">Linters bug types</title>

<meta data-react-helmet="true" http-equiv="x-ua-compatible" content="ie=edge"/><meta data-react-helmet="true" property="og:title" content="Infer · A tool to detect bugs in Java and C/C++/Objective-C code before it ships"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="description" content="Here is an overview of the linter checks we provide in Infer:"/><meta data-react-helmet="true" property="og:description" content="Here is an overview of the linter checks we provide in Infer:"/><meta data-react-helmet="true" property="og:url" content="https://fbinfer.com/docs/linters-bug-types"/>

<link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.png"/>


<link rel="stylesheet" type="text/css" href="/styles.cd8b7453.css" />

</head>
<body >
<script type="text/javascript">(function() {
  function setDataThemeAttribute(theme) {
    document.querySelector('html').setAttribute('data-theme', theme);
  }
  
  var preferDarkQuery = '(prefers-color-scheme: dark)';
  var mql = window.matchMedia(preferDarkQuery);
  var supportsColorSchemeQuery = mql.media === preferDarkQuery;
  var localStorageTheme = null;
  try {
    localStorageTheme = localStorage.getItem('theme');
  } catch (err) {}
  var localStorageExists = localStorageTheme !== null;

  if (localStorageExists) {
    setDataThemeAttribute(localStorageTheme);
  } else if (supportsColorSchemeQuery && mql.matches) {
    setDataThemeAttribute('dark');
  }
})();</script>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.png" alt="Infer Logo"/><strong class="">Infer</strong></a><a class="navbar__item navbar__link" href="/docs/getting-started">Docs</a><a class="navbar__item navbar__link" href="/docs/support">Support</a><a class="navbar__item navbar__link" href="/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://twitter.com/fbinfer">Twitter</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/inferstaticanalyzer">Facebook</a><a class="navbar__item navbar__link" target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/infer">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"/></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/"><img class="navbar__logo" src="/img/logo.png" alt="Infer Logo"/><strong>Infer</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/support">Support</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://twitter.com/fbinfer">Twitter</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://www.facebook.com/inferstaticanalyzer">Facebook</a></li><li class="menu__list-item"><a class="menu__link" target="_blank" rel="noopener noreferrer" href="https://github.com/facebook/infer">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive"><button aria-label="Open Menu" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Quick Start</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/getting-started">Getting started with Infer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/hello-world">Hello, World!</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">User Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/infer-workflow">Infer workflow</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/analyzing-apps-or-projects">Analyzing apps or projects</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/steps-for-ci">Recommended flow for CI</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/checkers">Infer : AI</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/eradicate">Infer : Eradicate</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/linters">Infer : AL</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/racerd">Infer : RacerD</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/experimental-checkers">Infer : Experimental Checkers</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/advanced-features">Advanced usage</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/adding-models">Adding models</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/man-pages">Infer Manuals</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Foundations</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/about-Infer">About Infer</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/separation-logic-and-bi-abduction">Separation logic and bi-abduction</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/limitations">Limitations, etc</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Bug Types Reference</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/checkers-bug-types">Checkers bug types</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/eradicate-warnings">Eradicate warnings</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/docs/linters-bug-types">Linters bug types</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Contribute</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/absint-framework">Building checkers with the Infer.AI framework</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/adding-checkers">Simple intraprocedural checkers</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/internal-API">Infer Internal OCaml Modules API</a></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Linters bug types</h1></header><div class="markdown"><p>Here is an overview of the linter checks we provide in Infer:</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="assign-pointer-warning"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#assign-pointer-warning" title="Direct link to heading">#</a>Assign pointer warning</h2><p>This check fires when a pointer to an Obj-C object is tagged with an <code>assign</code>
property (similar to the <code>-Warc-unsafe-retained-assign</code> compiler flag). Not
holding a strong reference to the object makes it easy to accidentally create
and use a dangling pointer.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="bad-pointer-comparison"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#bad-pointer-comparison" title="Direct link to heading">#</a>Bad pointer comparison</h2><p>Infer reports these warnings in Objective-C when a boxed primitive type such as
<code>NSNumber *</code> is coerced to a boolean in a comparison. For example, consider the
code</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-objectivec codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">foo</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">NSNumber </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> n</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">n</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>The branch in the above code will be taken when the pointer <code>n</code> is non-<code>nil</code>,
but the programmer might have actually wanted the branch to be taken when the
integer pointed to by <code>n</code> is nonzero (e.g., she may have meant to call an
accessor like <code>[n intValue]</code> instead). Infer will ask the programmer explicitly
compare <code>n</code> to <code>nil</code> or call an accessor to clarify her intention.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="c-reference-captured-in-objective-c-block"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#c-reference-captured-in-objective-c-block" title="Direct link to heading">#</a>C++ reference captured in Objective-C block</h2><p>With this check, Infer detects C++ references captured in a block. Doing this is
almost always wrong. The reason is that C++ references are not managed pointers
(like ARC pointers) and so the referent is likely to be gone by the time the
block gets executed. One solution is to do a local copy of the reference and
pass that to the block. Example:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-c codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">&amp;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> v</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">const</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> copied_v </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> v</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">^</span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// use copied_v not v</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="direct-atomic-property-access"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#direct-atomic-property-access" title="Direct link to heading">#</a>Direct atomic property access</h2><p>This check warns you when you are accessing an atomic property directly with an
ivar. This makes the atomic property not atomic anymore. So potentially you may
get a race condition.</p><p>To fix the problem you need to access properties with their getter or setter.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="global-variable-initialized-with-function-or-method-call"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#global-variable-initialized-with-function-or-method-call" title="Direct link to heading">#</a>Global variable initialized with function or method call</h2><p>This checker warns you when the initialization of global variable contain a
method or function call. The warning wants to make you aware that some functions
are expensive. As the global variables are initialized before main() is called,
these initializations can slow down the start-up time of an app.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="registered-observer-being-deallocated"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#registered-observer-being-deallocated" title="Direct link to heading">#</a>Registered observer being deallocated</h2><p>Objects register with a notification center to receive notifications. This check
warns you when an object is registered as observer of a NSNotificationCenter but
it is never unregistered. This is problematic as if the object is not
unregistered the notification center can still send notification even after the
object has been deallocated. In that case we would get a crash.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="strong-delegate-warning"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#strong-delegate-warning" title="Direct link to heading">#</a>Strong delegate warning</h2><p>This check warns you when you have a property called delegate or variations
thereof which is declared strong. The idea is that delegates should generally be
weak, otherwise this may cause retain cycles.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="unavailable-api-in-supported-ios-sdk"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#unavailable-api-in-supported-ios-sdk" title="Direct link to heading">#</a>Unavailable api in supported ios sdk</h2><p>This checks warns you when you are using an API (constant, method call, etc.)
that is only defined in a version higher than the version that you support. To
enable this check, pass to Infer the option
<code>--iphoneos-target-sdk-version version</code>. Calling an undefined API will lead to a
crash in the app. To fix this, you can choose a different API or use it inside
an if, as in:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-objectivec codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">UIFont respondsToSelector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token keyword" style="font-style:italic">@selector</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">systemFontOfSize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">weight</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  font </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">UIFont systemFontOfSize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">size weight</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>or</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-objectivec codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token keyword" style="font-style:italic">if</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">kCFCoreFoundationVersionNumber </span><span class="token operator" style="color:rgb(137, 221, 255)">&gt;=</span><span class="token plain"> kCFCoreFoundationVersionNumber_iOS_9_0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  font </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">UIFont systemFontOfSize</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain">size weight</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="pointer-to-const-objective-c-class"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#pointer-to-const-objective-c-class" title="Direct link to heading">#</a>Pointer To const Objective-C Class</h2><p>In Objective-C, <code>const Class *</code> represents a mutable pointer pointing to an
Objective-C class where the ivars cannot be changed. More useful is
<code>Class *const</code> instead, meaning the destination of the pointer cannot be
changed.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="objective-c-weak-property-has-custom-setter"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#objective-c-weak-property-has-custom-setter" title="Direct link to heading">#</a>Objective-C Weak Property has Custom Setter</h2><p>This check warns you when you have a custom setter for a weak property. When
compiled with Automatic Reference Counting (ARC, <code>-fobj-arc</code>) ARC may set the
property to <code>nil</code> without invoking the setter, for example:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-objectivec codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token macro property">#</span><span class="token macro property directive keyword" style="font-style:italic">import</span><span class="token macro property"> &lt;Foundation/Foundation.h&gt;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">@interface</span><span class="token plain"> Employee </span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token plain"> NSObject </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  NSString</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> _name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  __weak Employee</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> _manager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">initWithName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">NSString</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">@property</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">atomic</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> weak</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> Employee</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> manager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">report</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">@end</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">@implementation</span><span class="token plain"> Employee</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">initWithName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">NSString</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">name </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  _name </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">self</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">NSString</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">description </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> _name</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">report </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">NSLog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;I work for %@&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> _manager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Employee</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">manager </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> _manager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// DON&#x27;T do this; ARC will not call this when setting _manager to nil.</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token operator" style="color:rgb(137, 221, 255)">-</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">void</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">setManager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">Employee</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain">newManager </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token function" style="color:rgb(130, 170, 255)">NSLog</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;Meet the new boss...&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  _manager </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> newManager</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">@end</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token keyword" style="font-style:italic">int</span><span class="token plain"> argc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token keyword" style="font-style:italic">char</span><span class="token plain"> </span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain">argv</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Employee</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> bob </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Employee alloc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> initWithName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;Bob&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  Employee</span><span class="token operator" style="color:rgb(137, 221, 255)">*</span><span class="token plain"> sue </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">Employee alloc</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token plain"> initWithName</span><span class="token punctuation" style="color:rgb(199, 146, 234)">:</span><span class="token string" style="color:rgb(195, 232, 141)">@&quot;Sue&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  bob</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">manager </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> sue</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">bob report</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  sue </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> nil</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token punctuation" style="color:rgb(199, 146, 234)">[</span><span class="token plain">bob report</span><span class="token punctuation" style="color:rgb(199, 146, 234)">]</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">  </span><span class="token keyword" style="font-style:italic">return</span><span class="token plain"> </span><span class="token number" style="color:rgb(247, 140, 108)">0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>This prints:</p><pre class="mdxCodeBlock_iHAB"><div class="codeBlockWrapper_2QGZ"><pre class="prism-code language-undefined codeBlock_19pQ" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token plain">Meet the new boss...</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I work for Sue</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">I work for (null)</span></div></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_1BYj">Copy</button></div></pre><p>Note that the custom setter was only invoked once.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="component-factory-function"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#component-factory-function" title="Direct link to heading">#</a>Component factory function</h2><p><a href="http://componentkit.org/docs/break-out-composites">Doc in ComponentKit page</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="component-initializer-with-side-effects"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#component-initializer-with-side-effects" title="Direct link to heading">#</a>Component initializer with side effects</h2><p><a href="http://componentkit.org/docs/no-side-effects">Doc in ComponentKit page</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="component-with-multiple-factory-methods"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#component-with-multiple-factory-methods" title="Direct link to heading">#</a>Component with multiple factory methods</h2><p><a href="http://componentkit.org/docs/avoid-overrides">Doc in ComponentKit page</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="component-with-unconventional-superclass"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#component-with-unconventional-superclass" title="Direct link to heading">#</a>Component with unconventional superclass</h2><p><a href="http://componentkit.org/docs/never-subclass-components">Doc in ComponentKit page</a></p><h2><a aria-hidden="true" tabindex="-1" class="anchor" id="mutable-local-variable-in-component-file"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#mutable-local-variable-in-component-file" title="Direct link to heading">#</a>Mutable local variable in component file</h2><p><a href="http://componentkit.org/docs/avoid-local-variables">Doc in ComponentKit page</a></p></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/eradicate-warnings"><h5 class="pagination-nav__link--sublabel">Previous</h5><h4 class="pagination-nav__link--label">« <!-- -->Eradicate warnings</h4></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/absint-framework"><h5 class="pagination-nav__link--sublabel">Next</h5><h4 class="pagination-nav__link--label">Building checkers with the Infer.AI framework<!-- --> »</h4></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#assign-pointer-warning" class="contents__link">Assign pointer warning</a></li><li><a href="#bad-pointer-comparison" class="contents__link">Bad pointer comparison</a></li><li><a href="#c-reference-captured-in-objective-c-block" class="contents__link">C++ reference captured in Objective-C block</a></li><li><a href="#direct-atomic-property-access" class="contents__link">Direct atomic property access</a></li><li><a href="#global-variable-initialized-with-function-or-method-call" class="contents__link">Global variable initialized with function or method call</a></li><li><a href="#registered-observer-being-deallocated" class="contents__link">Registered observer being deallocated</a></li><li><a href="#strong-delegate-warning" class="contents__link">Strong delegate warning</a></li><li><a href="#unavailable-api-in-supported-ios-sdk" class="contents__link">Unavailable api in supported ios sdk</a></li><li><a href="#pointer-to-const-objective-c-class" class="contents__link">Pointer To const Objective-C Class</a></li><li><a href="#objective-c-weak-property-has-custom-setter" class="contents__link">Objective-C Weak Property has Custom Setter</a></li><li><a href="#component-factory-function" class="contents__link">Component factory function</a></li><li><a href="#component-initializer-with-side-effects" class="contents__link">Component initializer with side effects</a></li><li><a href="#component-with-multiple-factory-methods" class="contents__link">Component with multiple factory methods</a></li><li><a href="#component-with-unconventional-superclass" class="contents__link">Component with unconventional superclass</a></li><li><a href="#mutable-local-variable-in-component-file" class="contents__link">Mutable local variable in component file</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started">Quick Start</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/infer-workflow">User Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/about-Infer">Foundations</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/checkers-bug-types">Bug Types Reference</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/absint-framework">Contribute</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/support">Support</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Social</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://github.com/facebook">GitHub</a></li><li class="footer__item"><a class="footer__link-item" target="_blank" rel="noopener noreferrer" href="https://twitter.com/fbOpenSource">Twitter</a></li></ul></div></div><div class="text--center">Copyright © 2020 Facebook, Inc. Built with Docusaurus.</div></div></footer>
</div>

<script type="text/javascript" src="/styles.36c46242.js"></script>

<script type="text/javascript" src="/runtime~main.ac9d445a.js"></script>

<script type="text/javascript" src="/main.66155581.js"></script>

<script type="text/javascript" src="/1.3a07998e.js"></script>

<script type="text/javascript" src="/2.a5fd010b.js"></script>

<script type="text/javascript" src="/1be78505.25d8be57.js"></script>

<script type="text/javascript" src="/20ac7829.512266cf.js"></script>

<script type="text/javascript" src="/17896441.547e8cec.js"></script>

<script type="text/javascript" src="/dd58f8af.c5f230ae.js"></script>


</body>
</html>