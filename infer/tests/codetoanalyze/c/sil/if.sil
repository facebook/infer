// 
// Copyright (c) Facebook, Inc. and its affiliates.
//
// This source code is licensed under the MIT license found in the
// LICENSE file in the root directory of this source tree.

.source_language = "C"

define max(x: int, y: int) : int {
  #node_0:
      jmp node_1
      
  #node_9:
      jmp 
      
  #node_10:
      jmp node_8
      
  #node_8:
      jmp node_9
      
  #node_1:
      n0:int = load &x
      n1:int = load &y
      jmp node_7, node_6
      
  #node_7:
      prune __sil_gt(n0, n1)
      jmp node_5
      
  #node_6:
      prune __sil_lnot(__sil_gt(n0, n1))
      jmp node_3
      
  #node_5:
      n2:int = load &x
      jmp node_4
      
  #node_4:
      ret n2
      
  #node_3:
      n3:int = load &y
      jmp node_2
      
  #node_2:
      ret n3
      
}

define abs(x: int) : int {
  #node_0:
      jmp node_1
      
  #node_8:
      jmp 
      
  #node_6:
      n0:int = load &x
      jmp node_7
      
  #node_7:
      ret n0
      
  #node_3:
      jmp node_6
      
  #node_1:
      n1:int = load &x
      jmp node_5, node_4
      
  #node_5:
      prune __sil_lt(n1, 0)
      jmp node_2
      
  #node_4:
      prune __sil_lnot(__sil_lt(n1, 0))
      jmp node_3
      
  #node_2:
      n2:int = load &x
      store &x <- __sil_neg(n2):int
      jmp node_3
      
}

